<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noto Serif SC:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"22aliang.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"width":150,"display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="** 電子表格雖然可以進行排序和過濾，但資料庫具有廣泛的查詢功能，可以檢索、匹配、多個表個交叉引用紀錄，資料越龐大，差別越明顯。  常見 |資料庫管理系統 ( Database Management System，所寫 DBMS )，有名的資料庫有 : Miceosoft SQL Sever、MongoDB；MySQL、PostgreSQL等…">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL 基礎筆記">
<meta property="og:url" content="https://22aliang.github.io/2023/03/20/MySQL%20%E5%9F%BA%E7%A4%8E%E7%AD%86%E8%A8%98/index.html">
<meta property="og:site_name" content="22Nell&#39;s Blog">
<meta property="og:description" content="** 電子表格雖然可以進行排序和過濾，但資料庫具有廣泛的查詢功能，可以檢索、匹配、多個表個交叉引用紀錄，資料越龐大，差別越明顯。  常見 |資料庫管理系統 ( Database Management System，所寫 DBMS )，有名的資料庫有 : Miceosoft SQL Sever、MongoDB；MySQL、PostgreSQL等…">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/faea416c-c8d5-45ed-bfaf-1d1c92d62c55/Untitled.png">
<meta property="article:published_time" content="2023-03-20T03:57:53.019Z">
<meta property="article:modified_time" content="2024-05-13T12:22:49.342Z">
<meta property="article:author" content="Nell">
<meta property="article:tag" content="mysql, database">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/faea416c-c8d5-45ed-bfaf-1d1c92d62c55/Untitled.png">

<link rel="canonical" href="https://22aliang.github.io/2023/03/20/MySQL%20%E5%9F%BA%E7%A4%8E%E7%AD%86%E8%A8%98/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-TW'
  };
</script>

  <title>MySQL 基礎筆記 | 22Nell's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="22Nell's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切換導航欄">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">22Nell's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Notes of a Rookie Engineer</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首頁</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>標籤</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分類</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>歸檔</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜尋
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜尋..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/22aliang" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://22aliang.github.io/2023/03/20/MySQL%20%E5%9F%BA%E7%A4%8E%E7%AD%86%E8%A8%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nell">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="22Nell's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          MySQL 基礎筆記
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2023-03-20 11:57:53" itemprop="dateCreated datePublished" datetime="2023-03-20T11:57:53+08:00">2023-03-20</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%B6%85%E6%96%B0%E6%89%8B%E6%99%82%E6%9C%9F%E5%9F%BA%E7%A4%8E%E7%AD%86%E8%A8%98/" itemprop="url" rel="index"><span itemprop="name">超新手時期基礎筆記</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="閱讀次數" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">閱讀次數：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>** 電子表格雖然可以進行排序和過濾，但資料庫具有廣泛的查詢功能，可以檢索、匹配、多個表個交叉引用紀錄，資料越龐大，差別越明顯。 </p>
<p>常見 |資料庫管理系統 ( Database Management System，所寫 DBMS )，有名的資料庫有 : Miceosoft SQL Sever、MongoDB；MySQL、PostgreSQL等…</p>
<span id="more"></span>

<p>資料庫再概念上分成 2 種 關聯式資料庫 Relational Database、非關聯式資料庫NoSQL Database </p>
<h3 id="資料庫的通用定義"><a href="#資料庫的通用定義" class="headerlink" title="資料庫的通用定義"></a>資料庫的通用定義</h3><p>資料庫正式的定義有很多種，比較通用的定義為 「資料庫」是一個儲存資料的電子文件檔案櫃，</p>
<p>是一個</p>
<ul>
<li>儲存結構化 Strectured</li>
<li>整合的 Intedgrted</li>
<li>相關聯 Interrelated</li>
<li>共享 Shared</li>
<li>可控制 Controlled</li>
</ul>
<blockquote>
<p>資料庫的結構是由資料模型 Data Model 來決定，它是一個高階模型，也是描述資料庫的結構。</p>
</blockquote>
<ul>
<li>存儲並提供彼此相關數據點訪問的資料庫，下圖是一個 ER Diagram 實體關係圖，主要由三個元素組成 : 實體 Entity ( 系統中存在的對象 )、屬性 Attribute ( 實體的特性或描述 )、關係 ( 前者之間的聯繫握互動 ) Relationship</li>
<li>ER Diagram 線上編輯 | <a target="_blank" rel="noopener" href="https://lucid.app/lucidchart/5d478675-b1c6-41a4-b237-c0d07872901f/edit?beaconFlowId=FBFC34DF61E1D91D&page=0_0&invitationId=inv_e91ce7d7-ca0c-4be0-9b2b-93f2e36866a8#">連結</a></li>
<li>多對多的關係通常會拉成一對多</li>
<li>都是用 table 來表達，有較高的數據一致姓，使用 ACID 屬性來確保完整性</li>
<li>成本高，企業級的 License 價格驚人</li>
<li>讀寫慢，系統邏輯複雜 ( MySQL uses B-Tree B+Tree ,and HASH indexes，且有個能有死鎖 Deadlock 的問題</li>
<li>擴展困難，通常都是垂直擴展 ( 在主機擴展硬體設備 )</li>
<li>為了確保 交易 Transaction 是正確可靠的，必須具備 4 個特性</li>
</ul>
<ol>
<li>Atomicity ( 原子性）<ul>
<li>Atomicity (原子性）- 在資料庫的每一筆交易中只有兩種可能發生，第一種是全部完全(commit)，第二種是全部不完成(rollback)，不會因為某個環節出錯，而終止在那個環節，在出錯之後會恢復至交易之前的狀態，如同還沒執行此筆交易。</li>
</ul>
</li>
<li>Consistency ( 一致性）<ul>
<li>在交易中會產生資料或者驗證狀態，然而當錯誤發生，所有已更改的資料或狀態將會恢復至交易之前。</li>
<li>難改變資料架構</li>
</ul>
</li>
<li>Isolation ( 隔離性）<ul>
<li>資料庫允許多筆交易同時進行，交易進行時未完成的交易資料並不會被其他交易使用，直到此筆交易完成</li>
</ul>
</li>
<li>Durability ( 持續性）<ul>
<li>交易完成後對資料的修改是永久性的，資料不會因為系統重啟或錯誤而改變</li>
</ul>
</li>
</ol>
<h3 id="Non-Relational-Database-or-NoSQL-Database"><a href="#Non-Relational-Database-or-NoSQL-Database" class="headerlink" title="Non-Relational Database ( or NoSQL Database )"></a>Non-Relational Database ( or NoSQL Database )</h3><ul>
<li>都是用 JSON 來儲存，彈性比較好</li>
<li>可擴展性 : 透過硬體的分散式叢集來向外擴展，雲端伺服器供應商通常將這些操作處理成全授管服務，水平擴展 ( 再去用另外一個雲端設備來處理 )</li>
<li>快速讀寫 : 主要例子有 Redis 只在 RAM 操作，增刪查改都是O(1)的時間複雜度，每秒可以處理超過 10萬次讀寫操作</li>
<li>低廉的成本，通常是開源軟體</li>
<li>缺點不支持 SQL</li>
<li>支持特性不夠豐富，不像關聯式資料庫有各種附加功能</li>
</ul>
<h3 id="增刪查改-CRUD"><a href="#增刪查改-CRUD" class="headerlink" title="增刪查改 CRUD"></a>增刪查改 CRUD</h3><ul>
<li>增刪查改 ( 英文 CRUD ) 為 增加 Create、刪除 Delete、查詢 Read、改正 Update 的縮寫</li>
<li>在製作 Restful API 時，也會再次使用，但網站地 API 接口使用HTTP協定傳送通訊，所以名稱不同 ex : 查 &#x3D; GET、增 &#x3D; POST</li>
</ul>
<h2 id="關聯式資料庫邏輯結構"><a href="#關聯式資料庫邏輯結構" class="headerlink" title="關聯式資料庫邏輯結構"></a>關聯式資料庫邏輯結構</h2><h3 id="Keys-關係鍵"><a href="#Keys-關係鍵" class="headerlink" title="Keys 關係鍵"></a>Keys 關係鍵</h3><ul>
<li>關聯式資料庫重要的組成部分，在 DBMS 中，主要的 Keys 有 :</li>
</ul>
<ol>
<li>主鍵 primaty key ( 簡稱PK )<ul>
<li>唯一的表示每一筆資料，一筆資料只能有一個主鍵，而且不能是空 Null 的，它也可以是連接到其他表格的PK。</li>
</ul>
</li>
<li>外鍵 Foreign Key ( 簡稱FK )<ul>
<li>指向其他表格主鍵的欄位，確保兩張表格的關聯性，只能對應到 PK ( 避免有其他數值導致錯誤 )</li>
</ul>
</li>
<li>自然鍵 Natural key <ul>
<li>真實生活中唯一確定一個事物的標誌，來當作主鍵 primary key 可被稱為 natural key ， ex : 身分證字號</li>
</ul>
</li>
<li>代理鍵 Sirrogate key<ul>
<li>資料表格中，所有欄位都不適合當主鍵時，就會製作一個無意義的欄位來當作主鍵</li>
</ul>
</li>
<li>複合主鍵 comopsite key<ul>
<li>一筆資料只能有一個主鍵，( 但可以由兩個以上的行組成PK )</li>
</ul>
</li>
</ol>
<h3 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a>SQL</h3><ul>
<li>全名為 Structured Query Language 是一個結構化查詢程式語言，用於對關聯式資料庫管理系統 ( DBEMS , or RDBMS 下達指令。</li>
<li>不同資料庫系統之不具有完全的跨平台性，每個 DBMS 所接受的 SQL 有些微的差異</li>
<li>分號當句子的結束，逗號是還沒結束</li>
</ul>
<h3 id="Codeing-Style"><a href="#Codeing-Style" class="headerlink" title="Codeing Style"></a>Codeing Style</h3><p>有一些約定俗成的習慣，像是：</p>
<ol>
<li>關鍵字(保留字)都要用大寫</li>
<li>資料表名稱的第一個字母會用大寫</li>
<li>資料表的名稱使用單數</li>
<li>其餘的欄位名稱全部使用小寫</li>
<li>其餘的欄位名稱全部使用小寫</li>
</ol>
<ul>
<li>儲存格內的資料，是有區分大小寫的  ( 雖然在windows 還是可以查詢的到，但為了避免錯誤，還是分大小寫比較嚴謹 )</li>
<li>敘述語句內的空白，要用「半型空白」或是換行來區別因為 SQL 的語句是用 “;” 來區分的</li>
<li>如果你要加入字串、日期，要記得加入 “” (單引號)；數值的話是不需要的</li>
</ul>
<h3 id="SQL-Data-Types-資料類型"><a href="#SQL-Data-Types-資料類型" class="headerlink" title="SQL Data Types 資料類型"></a>SQL <code>Data Types 資料類型</code></h3><p>最常見的4種Data Types</p>
<ul>
<li>每一個直欄稱為 <strong>欄位Field 橫列叫做 紀錄 Record</strong></li>
</ul>
<ol>
<li>INT 整數<ul>
<li>用 4 byte 也就是 32 bits 儲存</li>
</ul>
</li>
<li>DECIMAL (p,s) 帶有小數點的數</li>
<li>VARCHAR(n) 一個欄位最多可以填多少</li>
<li>DATETIME 儲存時間</li>
</ol>
<h3 id="SQL-基本語法"><a href="#SQL-基本語法" class="headerlink" title="SQL 基本語法"></a>SQL 基本語法</h3><ul>
<li><code>UPDATE</code><ul>
<li>更新數據庫中的數據</li>
</ul>
</li>
<li><code>DELETE</code><ul>
<li>從數據庫中刪除數據</li>
</ul>
</li>
<li><code>INSERT INTO</code><ul>
<li>將新數據插入數據庫</li>
</ul>
</li>
<li><code>CREATE DATABASE</code><ul>
<li>創建一個新的數據庫</li>
</ul>
</li>
<li><code>CREATE TABLE</code><ul>
<li>創建一個新表</li>
</ul>
</li>
<li><code>DROP TABLE</code><ul>
<li>刪除一個表</li>
</ul>
</li>
<li><code>CREATE INDEX</code><ul>
<li>創建一個索引（搜索鍵）</li>
</ul>
</li>
<li><code>DROP INDEX</code><ul>
<li>刪除索引</li>
</ul>
</li>
</ul>
<blockquote>
<p>雖然大小寫都可以，但為了辨別，關鍵字通常為大寫</p>
</blockquote>
<ul>
<li>創建表格 CREATE<ul>
<li><code>CREAT TABLE table_name ()</code></li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT * </span><br><span class="line">FROM department d</span><br><span class="line">JOIN employees e </span><br><span class="line">ON d.headID = e.employeeID;</span><br></pre></td></tr></table></figure>

<ul>
<li>刪除表格 DROP<ul>
<li><code>DROP TABLE table_name;</code></li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span>創建表格</span><br><span class="line">CREAT <span class="keyword">TABLE</span> employes (</span><br><span class="line">	employeeID <span class="type">INT</span> RPIMARY KEY AUTO_INCREMENT,<span class="operator">/</span><span class="operator">/</span>AUTO_INCREMENT<span class="operator">*</span><span class="operator">*</span>會自動增加PK的值<span class="operator">*</span><span class="operator">*</span></span><br><span class="line">	employeeName Lisa(<span class="number">25</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,<span class="operator">/</span><span class="operator">/</span>名字最長不能超過<span class="number">25</span>個字，且值不能為空</span><br><span class="line">	age <span class="type">INT</span>,</span><br><span class="line">	salary <span class="type">INT</span> <span class="keyword">DEFAULT</span> <span class="number">1500</span>,<span class="operator">/</span><span class="operator">/</span>預設薪水為<span class="number">1500</span></span><br><span class="line">	supervisor <span class="type">INT</span>,</span><br><span class="line">	department <span class="type">INT</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>讀取表格</span><br><span class="line"><span class="keyword">DESCRIBE</span> employes;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>刪除表格</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> employees;</span><br></pre></td></tr></table></figure>

<ul>
<li>新增指定欄位資料 INSERT INTO . VALUES<ul>
<li><code>INSERT INTO employess table_name (clounmn)</code></li>
<li><code>VALUES (clounmn_value)</code></li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employess (employessID, employessName, age, salary, supervisor) </span><br><span class="line"><span class="keyword">VALUES</span> (<span class="number">100</span>, &quot;Lisa&quot;, <span class="number">25</span>, <span class="number">3500</span>, <span class="keyword">NULL</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>全部欄位都新增資料 INSERT INTO . VALUES</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employess </span><br><span class="line"><span class="keyword">VALUES</span>(<span class="number">100</span>, &quot;Lisa&quot;, <span class="number">25</span>, <span class="number">3500</span>, <span class="keyword">NULL</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>查詢表格所有資料 SELECT * FROM<ul>
<li><code>SELECT * FROM table_name;</code></li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> employees;</span><br></pre></td></tr></table></figure>

<ul>
<li>指定查詢數量 SELECT  TOP</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Customers</span><br><span class="line">LIMIT <span class="number">3</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>查詢表格指定資料 SELECT . FROM . ORDER BY . WHERE , COUNT ,<ul>
<li><code>SELECT clounmn1, clounmn2, …   FROME table_name;</code></li>
<li><code>ORDER BY (AES\DESC), clounmn, clounmn2 ,…</code> 是次序關鍵字，用於對查詢結果按升序或降序進行排序 ( 默認是升序 ) 也可以多選</li>
<li><code>WHERE clounmn</code> 可用來過濾紀錄 ( 接在 FROM 後面 )<br>  可以使用以下運算符 : &#x3D;、&lt;、&lt;&#x3D;、&gt;、&gt;&#x3D;、&lt;&gt;、IN、BETWEEN、!&#x3D; 等等</li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> employeeID, employeeName, age</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> department <span class="operator">=</span> <span class="number">1</span> <span class="keyword">AND</span> salary <span class="operator">&gt;=</span> <span class="number">2000</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> age DESE;</span><br></pre></td></tr></table></figure>

<ul>
<li>查詢表格指定資料，並排除重複選項</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> Country <span class="keyword">FROM</span> Customers;</span><br></pre></td></tr></table></figure>

<ul>
<li>查詢表格指定資料，並列出不同選項的總數</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="keyword">DISTINCT</span> Country) <span class="keyword">FROM</span> Customers;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> Customers;</span><br></pre></td></tr></table></figure>

<ul>
<li>查詢含有指定文字的資料</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> 開頭是 C</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> product</span><br><span class="line"><span class="keyword">WHERE</span> productName <span class="keyword">Like</span><span class="string">&#x27;c%&#x27;</span></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> 只要有 C</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> product</span><br><span class="line"><span class="keyword">WHERE</span> productName <span class="keyword">Like</span><span class="string">&#x27;%c%&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>查詢含有指定欄位組合的資料</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> product</span><br><span class="line"><span class="keyword">WHERE</span> productName <span class="keyword">IN</span> (<span class="number">1</span>, <span class="number">4</span>, <span class="number">8</span>)</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> CategoryID, ProductName;</span><br></pre></td></tr></table></figure>

<ul>
<li>查詢資料重複只留一筆</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> supplierID, companyName, country</span><br><span class="line"><span class="keyword">FROM</span> suppliers ;</span><br></pre></td></tr></table></figure>

<ul>
<li>WHERE AND、OR、NOT、IS、BETWEEN 、IN</li>
<li>盡量用 () 讓語意更清楚</li>
<li>AND : 全部條件都是 true</li>
<li>OR : 只要有一個條件是 true</li>
<li>IS : 指定欄位查詢指定的值</li>
<li>IN : 列舉包含的資料</li>
<li>BETWEEN : 之間</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> Country<span class="operator">=</span><span class="string">&#x27;Germany&#x27;</span> <span class="keyword">AND</span> City<span class="operator">=</span><span class="string">&#x27;Berlin&#x27;</span>; </span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>在 Customers 表格中，Country 欄位等於 Germany 和 City 欄位等於 Berlin (兩個都要)</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>在 northwind 中只會有一個符合的</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> Country<span class="operator">=</span><span class="string">&#x27;Germany&#x27;</span> <span class="keyword">AND</span> City<span class="operator">=</span><span class="string">&#x27;Berlin&#x27;</span>; </span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>在 Customers 表格中，Country 欄位等於 Germany 或 City 欄位等於 Berlin (一個即可)</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>在 northwind 中只會有兩個符合的</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">NOT</span> Country<span class="operator">=</span><span class="string">&#x27;Germany&#x27;</span>;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>在 Customers 表格中，Country 不是 Germany 的欄位</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> Country<span class="operator">=</span><span class="string">&#x27;Germany&#x27;</span> <span class="keyword">AND</span> (City<span class="operator">=</span><span class="string">&#x27;Berlin&#x27;</span> <span class="keyword">OR</span> City<span class="operator">=</span><span class="string">&#x27;München&#x27;</span>);</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>在 Customers 表格中，Country 欄位等於 Germany ( 一定要 )</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>或 City 欄位等於 Berlin 或 München ( 兩個擇一個就好 )</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">NOT</span> Country<span class="operator">=</span><span class="string">&#x27;Germany&#x27;</span> <span class="keyword">AND</span> <span class="keyword">NOT</span> Country<span class="operator">=</span><span class="string">&#x27;USA&#x27;</span>;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>在 Customers 表格中，Country 欄位不是Germany、USA ( 兩個都不是 )</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column_names</span><br><span class="line"><span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">WHERE</span> column_name <span class="keyword">IS</span> <span class="keyword">NULL</span>;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>不是 跟 是</span><br><span class="line"><span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">WHERE</span> column_name <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> productname, unitprice</span><br><span class="line"><span class="keyword">FROM</span> products</span><br><span class="line"><span class="keyword">WHERE</span> unitprice <span class="keyword">BETWEEN</span> <span class="number">10</span> <span class="keyword">AND</span> <span class="number">20</span>;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> 有人說不學沒關係</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> companyname, country</span><br><span class="line"><span class="keyword">FROM</span> suppliers</span><br><span class="line"><span class="keyword">WHERE</span> country <span class="keyword">IN</span> (<span class="string">&#x27;Japan&#x27;</span>, <span class="string">&#x27;Italy&#x27;</span>);</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> 也可以寫兩次 <span class="keyword">OR</span> 串接 </span><br></pre></td></tr></table></figure>

<ul>
<li>MIN() 、 MAX() 最大值和最小值</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MIN</span>(column_name)</span><br><span class="line"><span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">condition</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(column_name)</span><br><span class="line"><span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">condition</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MIN</span>(Price) <span class="keyword">AS</span> SmallestPrice</span><br><span class="line"><span class="keyword">FROM</span> Products;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> <span class="keyword">AS</span> 後面是幫查詢的表格取名字</span><br></pre></td></tr></table></figure>

<ul>
<li>COUNT() 返回指定條件的行數、AVG()返回數字列的平均值、SUM()返回數字列的總和<ul>
<li>COUNT(*) | 會把 NULL 算進去</li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(ProductID)</span><br><span class="line"><span class="keyword">FROM</span> Products;</span><br></pre></td></tr></table></figure>

<ul>
<li>AVG()返回指定欄位的平均數 | NULL會被忽略</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(UnitPrice)</span><br><span class="line"><span class="keyword">FROM</span> Products;</span><br></pre></td></tr></table></figure>

<ul>
<li>SUM() 返回指定欄位的總數</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUM</span>(Quantity)</span><br><span class="line"><span class="keyword">FROM</span> OrderDetails;</span><br></pre></td></tr></table></figure>

<ul>
<li>每一個組group up 列小記、group by 旁邊的欄位是主要欄位，若指定欄位值變動，with rollup 會往上捲動算出指定欄位總值。</li>
<li>新增有 NULL 值的行就有總值</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> orderId, pouductId, <span class="built_in">sum</span>(quantity)</span><br><span class="line"><span class="keyword">FROM</span> `<span class="keyword">order</span> details`</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> orderId, productId <span class="keyword">with</span> <span class="keyword">rollup</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> orderId, productId</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> productId, productName,unitPrice,unitsUnStock, </span><br><span class="line">unitPrice <span class="operator">*</span> unitsStock <span class="keyword">AS</span> amount <span class="operator">/</span><span class="operator">/</span>直接賦予欄位新的名稱</span><br><span class="line"><span class="keyword">FROM</span> products</span><br><span class="line"><span class="keyword">WHERE</span> unitPrice <span class="operator">*</span> unitInStock <span class="operator">&gt;=</span> <span class="number">300</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>修改資料 UPDATE<ul>
<li><code>UPDATE 表格名稱</code><br>  <code>SET 要更新的表格名稱 = 要更新的表格資料, 要更新的表格名稱 = 要更新的表格資料,   WHERE 表格名稱 = 更新的資料在哪裡、什麼的資料</code></li>
<li>WHERE 設定條件可以很複雜</li>
<li>如果省略 WHERE 表中所有紀錄都會被更新</li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> employees </span><br><span class="line"><span class="keyword">SET</span> employeeID <span class="operator">=</span> <span class="number">107</span></span><br><span class="line"><span class="keyword">WHERE</span> employeeID <span class="operator">=</span> <span class="number">108</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> Customers</span><br><span class="line"><span class="keyword">SET</span> ContactName<span class="operator">=</span><span class="string">&#x27;Juan&#x27;</span></span><br><span class="line"><span class="keyword">WHERE</span> Country<span class="operator">=</span><span class="string">&#x27;Mexico&#x27;</span>;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> 在 Customers 表格裡，先篩選 Country 欄位中</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>資料是 Mexico 的，更新 ContactName 欄位資料成為 Juan</span><br></pre></td></tr></table></figure>

<ul>
<li>刪除資料 DELETE FROM<ul>
<li><code>DELETE FROM table_name WHERE clounmn;</code></li>
<li>如果省略 WHERE 表中所有表格資料都會被刪除，但表格依然存在，要刪除整個表格要使用 DROP</li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> employeeID <span class="operator">=</span> <span class="number">107</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>表格合併 JOIN<ul>
<li>JOIN 用於 2 個或多個表之間相關的 <code>clounmn</code> 的組合</li>
<li><code>SELECT clounmn1, clounmn2, ...   FROM table1   JOIN table2 ON table1.clounmnName = table2.clounmnName;</code></li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> </span><br><span class="line"><span class="keyword">FROM</span> department <span class="keyword">AS</span> d</span><br><span class="line"><span class="keyword">JOIN</span> employees <span class="keyword">AS</span> e </span><br><span class="line"><span class="keyword">ON</span> d.headID <span class="operator">=</span> e.employeeID;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> L.A, B, C <span class="operator">/</span><span class="operator">/</span>名稱重複需要講一下 </span><br><span class="line"><span class="keyword">FROM</span> department <span class="keyword">AS</span> d</span><br><span class="line"><span class="keyword">JOIN</span> employees <span class="keyword">AS</span> e </span><br><span class="line"><span class="keyword">ON</span> d.headID <span class="operator">=</span> e.employeeID</span><br></pre></td></tr></table></figure>

<p>having 彙整統計後再用的，大於 30 的 ( 不常用 )</p>
<h3 id="Cartesian-Product-笛卡爾乘積"><a href="#Cartesian-Product-笛卡爾乘積" class="headerlink" title="Cartesian Product 笛卡爾乘積"></a>Cartesian Product <strong>笛卡爾乘積</strong></h3><p>是從離散數學來的，舉例若</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> </span><br><span class="line"><span class="keyword">FROM</span> department d</span><br><span class="line"><span class="keyword">JOIN</span> employees e;</span><br><span class="line"><span class="comment">-- ON d.headID = e.employeeID; //少了這段</span></span><br></pre></td></tr></table></figure>

<p>表格會無限重複</p>
<p>JOIN 2 個表格時，若不指定結合條件 <code>JOIN ON</code> 而是只寫 <code>JOIN</code> 合併結果為 2 個資料表間的笛卡兒乘積，也就是 2 個表所有可能組合 </p>
<h3 id="什麼是-NULL-Value-值"><a href="#什麼是-NULL-Value-值" class="headerlink" title="什麼是 NULL Value 值 ?"></a>什麼是 NULL Value 值 ?</h3><ul>
<li>NULL 為創建表格初期留空的資料，未來有可能會在新增資料，若資料為 0 或 “”都不應該使用NULL</li>
<li>測試 NULL 值</li>
</ul>
<h3 id="什麼是XAMPP"><a href="#什麼是XAMPP" class="headerlink" title="什麼是XAMPP ?"></a>什麼是XAMPP ?</h3><p>架設伺服器環境，是一個架站懶人包</p>
<ul>
<li>X &#x3D; 跨平台</li>
<li>A &#x3D; Apache：開放原始碼的網站瀏覽伺服器軟體<ul>
<li>開啟才能在 locallhost 連到</li>
</ul>
</li>
<li>M &#x3D; MySQL：資料庫軟體</li>
<li>P &#x3D; PHP：後端程式語言，將 Request 處理成 output，而 output 通常是 html，可以閱覽 <a target="_blank" rel="noopener" href="http://www.w3school.com.cn/php/">w3school：PHP</a> 和 <a target="_blank" rel="noopener" href="http://www.runoob.com/php/php-tutorial.html">菜鳥教程：PHP</a></li>
<li>P &#x3D; Perl：程式語言，可以閱覽 <a target="_blank" rel="noopener" href="http://www.runoob.com/perl/perl-tutorial.html">菜鳥教程：Perl</a></li>
</ul>
<p>優點 </p>
<ol>
<li>簡便易用</li>
<li>可以在無線情況下進行開發和測試</li>
<li>跨平台</li>
</ol>
<p>缺點  </p>
<ol>
<li>安全風險 ( 要更新軟體版本號 ) </li>
<li>生產環境限制，XAMPP 主要是用於開發和測試，不建議在生產環境中使用，上線後應該使用專業的Web伺服器軟體 例如 Apache 或 Nginx 等</li>
<li>效能限制</li>
</ol>
<p>port 預設是 80</p>
<h3 id="什麼是-localhost"><a href="#什麼是-localhost" class="headerlink" title="什麼是 localhost ?"></a>什麼是 localhost ?</h3><p>瀏覽器會將該 URL 解析為本地主機的 IP 地址 127.0.0.1，然後向該地址發送請求 localhost 是一個指向本地主機 IP 地址的別名，它可以讓您快速訪問本地主機上運行的服務器。</p>
<p>跟網址的概念是一樣，跟 <strong><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/zh-tw/TCP/IP%E5%8D%8F%E8%AE%AE%E6%97%8F">TCP&#x2F;IP協定套組</a> |</strong> <a target="_blank" rel="noopener" href="https://hulitw.medium.com/learning-tcp-ip-http-via-sending-letter-5d3299203660">Huil</a> ****是一樣的</p>
<h3 id="預存程序-x2F-預儲程序-Stored-Procedure"><a href="#預存程序-x2F-預儲程序-Stored-Procedure" class="headerlink" title="預存程序 &#x2F; 預儲程序 Stored Procedure"></a>預存程序 &#x2F; 預儲程序 Stored Procedure</h3><p>預存程序是一個在資料庫管理系統中存儲的程式，用於執行一系列的資料庫操作，可以提高資料庫操作的效率和可靠性。 </p>
<p>預存程序通常用於執行一些複雜的資料庫操作，例如：</p>
<ol>
<li>數據處理：對數據進行轉換、計算、過濾和合併等操作。</li>
<li>數據驗證：對數據進行驗證和錯誤處理，以確保數據的完整性和準確性。</li>
<li>安全控制：對資料庫操作進行權限控制和安全檢查，以確保系統的安全性。</li>
<li>數據輸出：將數據格式化為指定的輸出格式，例如 XML、JSON、CSV 等。</li>
</ol>
<p>需要注意以下事項：</p>
<ol>
<li>預存程序需要在資料庫中進行存儲，因此會佔用一定的資料庫空間。</li>
<li>預存程序的編寫和維護需要一定的開發技能，包括 SQL 語法、流程控制語句和變數等。</li>
<li>預存程序可以提高資料庫操作的效率，但對於一些簡單的操作，可能會增加代碼的複雜度和維護成本。</li>
</ol>
<h3 id="多階式架構-SQL-Multilevel-Hierarchy"><a href="#多階式架構-SQL-Multilevel-Hierarchy" class="headerlink" title="多階式架構 SQL Multilevel Hierarchy"></a>多階式架構 SQL Multilevel Hierarchy</h3><p>舉例 : 便當社 &gt; 訂購表(快取) &gt; 各班班代 &gt; 值日生負責登記(延後更新) </p>
<ul>
<li>每個節點都有識別碼 ID ，根節點 ID 為0 ，每個子節點的 ID 都是其父節點的 ID 加上一個編號</li>
<li>通常用於組織複雜的資料，例如組織圖、家譜、科學分類、產品目錄等，多階式架構可以更好地組織和管理資料，提高資料檢索的效率和準確性</li>
</ul>
<p> 實現方法 </p>
<ol>
<li>使用傳統的關聯式資料庫系統，通過使用外部關聯（External Relationships）來實現層次化結構</li>
<li>使用專門的層次化資料庫系統，例如 IBM 的 IMS（Information Management System）系統、Oracle 的 Oracle Hierarchical Storage Manager 等</li>
</ol>
<h3 id="SELECT-從數據庫中提取數據-x2F-查詢資料"><a href="#SELECT-從數據庫中提取數據-x2F-查詢資料" class="headerlink" title="SELECT 從數據庫中提取數據 &#x2F; 查詢資料"></a>SELECT 從數據庫中提取數據 &#x2F; 查詢資料</h3><p>從數據庫中選擇述劇，返回的數據儲存在一個結果表中，稱為結果集。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> [<span class="keyword">ALL</span> <span class="operator">|</span> <span class="keyword">DISTINCT</span>]</span><br></pre></td></tr></table></figure>

<p>一個伺服器可以管多個資料庫</p>
<h3 id="創建資料庫流程"><a href="#創建資料庫流程" class="headerlink" title="創建資料庫流程"></a>創建資料庫流程</h3><ol>
<li>MySQL command Line Client <code>creat database 名稱;</code></li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> database myDatabase;</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.01</span> sec) <span class="operator">*</span><span class="operator">*</span><span class="operator">/</span><span class="operator">/</span>回報製作新資料庫成功<span class="operator">*</span><span class="operator">*</span></span><br></pre></td></tr></table></figure>

<ol>
<li>my sql 下載時我有改 port 4406 或著 在 sql command line 輸入</li>
</ol>
<p><code>show global variables like &#39;port&#39;;</code>  查詢port號 | 也可以修改port號</p>
<ol>
<li>進到資料庫後創建 employees 表格，employeeID是primary key (PK)</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE employees (</span><br><span class="line">    employeeID int PRIMARY key</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>在測試刪除資料表格</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP TABLE employees;</span><br></pre></td></tr></table></figure>


<h3 id="SQL-injection-維基"><a href="#SQL-injection-維基" class="headerlink" title="SQL injection | 維基"></a>SQL injection | <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/zh-tw/SQL%E6%B3%A8%E5%85%A5">維基</a></h3><p>避免方法 </p>
<ul>
<li>使用 參數化查詢 Parameterized Query 設計資料查詢</li>
<li>使用其他更安全的方式連接SQL資料庫 ex : LINQ</li>
</ul>
<p>舉例 </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">strSQL <span class="operator">=</span> &quot;SELECT * FROM users WHERE (name = &#x27;&quot; <span class="operator">+</span> userName <span class="operator">+</span> &quot;&#x27;) </span><br><span class="line">and (pw = &#x27;&quot;<span class="operator">+</span> passWord <span class="operator">+</span>&quot;&#x27;);&quot;</span><br></pre></td></tr></table></figure>

<p>惡意填入</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">userName <span class="operator">=</span> &quot;1&#x27; OR &#x27;1&#x27;=&#x27;1&quot;;</span><br><span class="line">passWord <span class="operator">=</span> &quot;1&#x27; OR &#x27;1&#x27;=&#x27;1&quot;;</span><br></pre></td></tr></table></figure>

<p>將導致原本的SQL字串被填為</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">strSQL <span class="operator">=</span> &quot;SELECT * FROM users WHERE (name = &#x27;1&#x27; OR &#x27;1&#x27;=&#x27;1&#x27;) </span><br><span class="line">and (pw = &#x27;1&#x27; OR &#x27;1&#x27;=&#x27;1&#x27;);&quot;</span><br></pre></td></tr></table></figure>

<p>也就是實際上執行的SQL命令會變成下面這樣的</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">strSQL <span class="operator">=</span> &quot;SELECT * FROM users;&quot;</span><br></pre></td></tr></table></figure>

<p>達到無帳號密碼，亦可登入網站。所以SQL注入被俗稱為駭客的填空遊戲</p>
<h3 id="資料庫正規化"><a href="#資料庫正規化" class="headerlink" title="資料庫正規化"></a>資料庫正規化</h3><ul>
<li>降低資料重複，減少錯誤資料變動</li>
</ul>
<h3 id="額外知識點"><a href="#額外知識點" class="headerlink" title="額外知識點"></a>額外知識點</h3><p>單一SQL對資料表進行異動若一次超過 5000 筆，資料庫會啟動保護機制，將鎖定的等級進行提升，會變成 table lock </p>
<p>為了減少系統負擔（記憶體變少），但另一方面增加了系統blocking</p>
<h3 id="系統環境變數"><a href="#系統環境變數" class="headerlink" title="系統環境變數"></a>系統環境變數</h3><h3 id="命令提示字元呼叫-MySQL-commit"><a href="#命令提示字元呼叫-MySQL-commit" class="headerlink" title="命令提示字元呼叫 MySQL commit"></a>命令提示字元呼叫 MySQL commit</h3><p>mac 預設密碼 root、windows 沒有密碼，直接 Enter 就好</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">C</span>:\xampp\mysql\bin\mysql -uroot -p</span><br></pre></td></tr></table></figure>

<p>因為當初再安裝 XAMPP 時，它有自動將 my sql 的環境變數，建置在系統底下，因此不管用任何地方的命令提示字元，都可以打開</p>
<p>&#x3D;&#x3D;&#x3D;解除鎖定&#x3D;&#x3D;&#x3D;</p>
<p>start transaction </p>
<p>commit ; </p>
<p>start transaction </p>
<p>rolllback ;</p>
<p>一律不算數</p>
<p>undo </p>
<p>all or nothing </p>
<p>ACID 交易系統</p>
<p>rollback 會把資料返回原本沒有出現的樣子</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">use northwind;</span><br><span class="line"><span class="keyword">start</span> transaction;</span><br><span class="line"><span class="keyword">update</span> products <span class="keyword">set</span> unitsInStock <span class="operator">=</span> <span class="number">100</span> <span class="keyword">where</span> productId <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">select</span> productId, unitsInStock <span class="keyword">from</span> products limit <span class="number">3</span>;</span><br><span class="line"><span class="keyword">rollback</span>;</span><br><span class="line"><span class="keyword">select</span> productId, unitsInStock <span class="keyword">from</span> products limit <span class="number">3</span>;</span><br></pre></td></tr></table></figure>

<p>沒有rollback的話會把更新的資料給更新過去，在一個start transaction就在下rollback就不會再回去了，沒有rollback在下start 就是巢套惹</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">start</span> transaction;</span><br><span class="line"><span class="keyword">update</span> products <span class="keyword">set</span> unitsInStock <span class="operator">=</span> <span class="number">100</span> <span class="keyword">where</span> productId <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">select</span> productId, unitsInStock <span class="keyword">from</span> products limit <span class="number">3</span>;</span><br><span class="line"><span class="keyword">commit</span>;</span><br><span class="line"><span class="keyword">select</span> productId, unitsInStock <span class="keyword">from</span> products limit <span class="number">3</span>;</span><br></pre></td></tr></table></figure>

<p>提款 + 存款 才解除鎖定</p>
<p>交易鎖定 all nothing</p>
<p>commit 才是真正完成，rollback 算是一個段落結束</p>
<p>鎖資料 &gt; 卡住的</p>
<h3 id="情境演練"><a href="#情境演練" class="headerlink" title="情境演練 :"></a>情境演練 :</h3><p>甲方</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">use northwind;</span><br><span class="line"><span class="keyword">start</span> transaction;</span><br><span class="line"><span class="keyword">select</span> productId, unitsInStock </span><br><span class="line">  <span class="keyword">from</span> products </span><br><span class="line">  <span class="keyword">where</span> productId <span class="operator">=</span> <span class="number">1</span> <span class="keyword">for</span> <span class="keyword">update</span>;</span><br><span class="line"><span class="keyword">update</span> products </span><br><span class="line">  <span class="keyword">set</span> unitsInStock <span class="operator">=</span> unitsInStock <span class="operator">-</span> <span class="number">1</span> </span><br><span class="line">  <span class="keyword">where</span> productId <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">commit</span>;</span><br></pre></td></tr></table></figure>

<p>乙方</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">C:\xampp\mysql\bin\mysql <span class="operator">-</span>uroot <span class="operator">-</span>p</span><br><span class="line"><span class="operator">/</span>applications<span class="operator">/</span>MAMP<span class="operator">/</span>library<span class="operator">/</span>bin<span class="operator">/</span>mysql <span class="operator">-</span>uroot <span class="operator">-</span>p</span><br><span class="line">use northwind;</span><br><span class="line"><span class="keyword">set</span> session transaction isolation level read uncommitted;</span><br><span class="line"><span class="keyword">start</span> transaction;</span><br><span class="line"><span class="keyword">select</span> productId, unitsInStock </span><br><span class="line">  <span class="keyword">from</span> products </span><br><span class="line">  <span class="keyword">where</span> productId <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="comment">-- pause and view status</span></span><br><span class="line"><span class="keyword">select</span> productId, unitsInStock </span><br><span class="line">  <span class="keyword">from</span> products </span><br><span class="line">  <span class="keyword">where</span> productId <span class="operator">=</span> <span class="number">1</span> <span class="keyword">for</span> <span class="keyword">update</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">commit</span>;</span><br></pre></td></tr></table></figure>

<p>預設 Read uncommitted 可以讀取，</p>
<p>同時進行的話，乙方再要修改表格時，會進行等待，若甲方執行 commit ，乙方視窗會馬上跳執行指令。</p>
<h3 id="SQL-的鎖-LOCK"><a href="#SQL-的鎖-LOCK" class="headerlink" title="SQL 的鎖 LOCK"></a>SQL 的鎖 LOCK</h3><p>多個命令對同一資源同時進行操作時，為了確保資料正確性,必須使用lock來避免<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Race_condition">Racing Condition</a></p>
<h3 id="SQL-的-LOCK-有分兩個維度"><a href="#SQL-的-LOCK-有分兩個維度" class="headerlink" title="SQL 的 LOCK 有分兩個維度"></a>SQL 的 LOCK 有分兩個維度</h3><p>下表表示鎖範圍等級由上到下越來越大.</p>
<ul>
<li>Row (•RID)</li>
<li>Key (•KEY)</li>
<li>Page (•PAG)</li>
<li>Extent (• EXT)</li>
<li>Heap or B-tree (• HoBT)</li>
<li>Table (• TAB)</li>
<li>File (• FIL)</li>
<li>Application (• APP)</li>
<li>MetaData (• MDT)</li>
<li>Allocation Unit (• AU)</li>
<li>Database (•DB)</li>
</ul>
<p><strong>Lock類型</strong></p>
<ul>
<li>Shared Locks (s)</li>
<li>Update Locks (U)</li>
<li>Exclusive Locks (X)</li>
<li>Intent Locks (I)</li>
<li>Schema Locks (Sch)</li>
<li>Bulk Update Locks (BU)</li>
<li>Key-range</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> https:<span class="operator">/</span><span class="operator">/</span>nodejs.org</span><br><span class="line"><span class="number">2.</span> <span class="keyword">right</span> click: ticket <span class="operator">|</span> <span class="keyword">Open</span> <span class="keyword">in</span> Integrated Terminal</span><br><span class="line"><span class="number">3.</span> npm install</span><br><span class="line"><span class="number">4.</span> edit app.js, change password</span><br><span class="line"><span class="number">5.</span> ecit app.js, <span class="keyword">add</span> this line: port: <span class="number">8889</span>,</span><br><span class="line"><span class="number">6.</span> run setup_db.txt <span class="keyword">to</span> <span class="keyword">prepare</span> ticketdb</span><br><span class="line"><span class="number">7.</span> node bin\www</span><br><span class="line"><span class="number">8.</span> http:<span class="operator">/</span><span class="operator">/</span>localhost:<span class="number">3000</span><span class="operator">/</span>ticket<span class="operator">/</span>buy</span><br></pre></td></tr></table></figure>

<h3 id="建立資料庫-字元集亂碼狀況題"><a href="#建立資料庫-字元集亂碼狀況題" class="headerlink" title="建立資料庫 | 字元集亂碼狀況題"></a>建立資料庫 | 字元集亂碼狀況題</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database lab15db;</span><br><span class="line">use lab15db;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t1 (id <span class="type">int</span> auto_increment <span class="keyword">primary</span> key, data <span class="type">varchar</span>(<span class="number">20</span>));</span><br><span class="line"> </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t1 (data) <span class="keyword">values</span> (<span class="string">&#x27;data A&#x27;</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t1;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t1 (data) <span class="keyword">values</span> (<span class="string">&#x27;資料 B&#x27;</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t1;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">show</span> variables <span class="keyword">like</span> <span class="string">&#x27;char%&#x27;</span>;</span><br><span class="line"><span class="keyword">set</span> names big5;</span><br><span class="line"><span class="keyword">show</span> variables <span class="keyword">like</span> <span class="string">&#x27;char%&#x27;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t1 (data) <span class="keyword">values</span> (<span class="string">&#x27;資料 C&#x27;</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t1;</span><br><span class="line"> </span><br><span class="line">use mysql;</span><br><span class="line"><span class="keyword">drop</span> database lab15db;</span><br></pre></td></tr></table></figure>



<h3 id="終端機查詢指令"><a href="#終端機查詢指令" class="headerlink" title="終端機查詢指令"></a>終端機查詢指令</h3><p>select version() 查詢版本<br>show variables like ‘char%’<br>show variables like ‘max%’</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> processlist; <span class="operator">/</span><span class="operator">/</span>看目前連線人數 只有網管</span><br><span class="line">status; <span class="operator">/</span><span class="operator">/</span>大家可以看狀況</span><br><span class="line">kill <span class="number">101</span> <span class="operator">/</span><span class="operator">/</span>把人踢掉，會無法在下指令</span><br><span class="line"><span class="keyword">select</span> <span class="number">1</span> <span class="operator">+</span> <span class="number">1</span>; <span class="operator">/</span><span class="operator">/</span>在下就會跑回來連線 並且有新資料</span><br></pre></td></tr></table></figure>

<h3 id="建立資料庫-字元集亂碼狀況題-1"><a href="#建立資料庫-字元集亂碼狀況題-1" class="headerlink" title="建立資料庫 | 字元集亂碼狀況題"></a>建立資料庫 | 字元集亂碼狀況題</h3><p>建資料庫自己把 uf8 給建立上去，utf8字元集 中文字 3bytes 英文字 1bytes</p>
<p>set global max_connections &#x3D; 10; 最大連線數  ( 它是全域變數 ) 最低不能超過10</p>
<p>通常會保留一個位置給網管，</p>
<p>set processlist ; 秀出目前連線清單</p>
<hr>
<p>show variables like ‘char%’</p>
<p>set names big5; &#x2F;&#x2F; 因為命令提示字元比較舊 所以只在這個提示字元使用big5，如果要全域資料庫都使用 要加 global 才可以</p>
<hr>
<p>client 指令連線離開、進入資料庫 connection、resultes 交給用戶端</p>
<p>字元集要轉 connection (mysql接收的資料) 設定值 result (調資料室哪一種)<br>如果全部 utf8 就不用轉碼，如果遇到純英文、舊系統就會有影響</p>
<p>create database lab15db;</p>
<p>use lab15db;</p>
<p>ctrate table t1 ( id int auto uncrement primary key, data varch(20)); </p>
<p>&#x2F;&#x2F; id 會自動編號 data可以寫入20字元的欄位</p>
<p>insert into t1(data) values (’data A’); &#x2F;&#x2F;插入資料</p>
<p>selsect * from t1;  &#x2F;&#x2F;查詢是某正確</p>
<p>insert into t1(data) values (’嘗試用中文字’); &#x2F;&#x2F;插入資料</p>
<p>selsect * from t1;  &#x2F;&#x2F;中文字是 ??? </p>
<p>use mysql;</p>
<p>先離開database </p>
<p>drpp database lab15db;</p>
<h3 id="創建資料庫時，使用較舊的指令可能會出現的問題"><a href="#創建資料庫時，使用較舊的指令可能會出現的問題" class="headerlink" title="創建資料庫時，使用較舊的指令可能會出現的問題"></a>創建資料庫時，使用較舊的指令可能會出現的問題</h3><p>show variables like ‘char%’ &#x2F;&#x2F;查詢字元集設定</p>
<p>set names big5; &#x2F;&#x2F;一口氣設定3個選項 </p>
<p>show variables like ‘char%’ &#x2F;&#x2F;查詢字元集設定</p>
<p>有些舊系統只支援舊字碼 ( IDE 只懂 Big5 編碼 )</p>
<p>Big5 編碼中文是 2bytes 英文是 1bytes</p>
<p>資料ABC | ansi 7byte | 中文2bytes<br>資料ABC | utf8 9byte | 中文3bytes<br>資料ABC | utf8 BOM 12byte | 具有BOM的utf8，前面有 3 個BOM控制碼的bytes</p>
<p>許光蓋現象 : 在資訊傳輸的過程中，因編碼方式的不同，造成訊息的失真或錯誤<br>可以使用一些通訊協定或編碼技術，例如加入誤碼檢測、糾錯碼等機制，來提高訊息的傳輸穩定性和可靠性。</p>
<p>如果是使用PHP admin 從頭到尾都支援 utf8 就沒問題</p>
<p>最好就直接設定 utf8，如果遇到較舊只能使用ansi </p>
<p>window有支援 utf8 、mac 終端機不支援 utf8</p>
<p>字元集一但輸出就不能重打，因此</p>
<h3 id="創建資料庫注意事項"><a href="#創建資料庫注意事項" class="headerlink" title="創建資料庫注意事項"></a>創建資料庫注意事項</h3><ul>
<li>要指定 utf8 編碼 character set utf8; &#x2F;&#x2F;在英文的介面上，但在伺服器裡面的資料表要支援中文，</li>
</ul>
<h3 id="舊資料結構-big5-方便"><a href="#舊資料結構-big5-方便" class="headerlink" title="舊資料結構 big5 方便"></a>舊資料結構 big5 方便</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0123456789012</span> </span><br><span class="line"></span><br><span class="line">洋基隊     NYY</span><br><span class="line">釀酒入隊   MIL</span><br></pre></td></tr></table></figure>

<p>以上程式碼在 big5 是很整齊的 :</p>
<p>line1:s.substring(10,3) ⇒ NYY (從10取3)</p>
<p>line1:s.substring(10,3) ⇒ MILL (從10取3)</p>
<p>utf8 &amp; C# :</p>
<p>line1:s.substring(13,3) ⇒ NYY ( 空格算中文字，從13行開始取3位才能取出NYY)</p>
<p>line1:s.substring(15,3) ⇒ NYY</p>
<p>但這個資料設計有個問題，資料結構跟資料分開，以後新建資料會不知道規則</p>
<p>drop database lab15db;</p>
<p>把資料結構用陣列寫入，就不用跟舊資料一樣用數的</p>
<h3 id="新資料結構-適用-utf8"><a href="#新資料結構-適用-utf8" class="headerlink" title="新資料結構 適用 utf8"></a>新資料結構 適用 utf8</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s <span class="operator">=</span> `</span><br><span class="line">[</span><br><span class="line">	&#123;”name” : “洋基隊”,&quot;id&quot;:&quot;NYY&quot;&#125;,</span><br><span class="line">	&#123;”name” : “釀酒入隊”,&quot;id&quot;:&quot;MIL&quot;&#125;</span><br><span class="line">]`</span><br></pre></td></tr></table></figure>

<ul>
<li>JS 7個符號組成 JSON</li>
</ul>
<p>上面是物件，可以解碼成陣列</p>
<p>var dataList &#x3D; JSON.parse(s); &#x2F;&#x2F;把物件轉成字串、文字資料，就可以去轉了</p>
<p>dataList[1].id ⇒ “MIL”</p>
<p>定義一個資料結構的時候，字串內涵很多物件</p>
<p>違反第一正規化，怕資料重複跟空洞化</p>
<ul>
<li>每一筆資料都分的很開，用 join 來串接</li>
<li>用 JSON 把資料串在同一個欄位裡面 &#x2F;&#x2F;用陣列來切資料出來</li>
</ul>
<hr>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> databases; <span class="operator">/</span><span class="operator">/</span>顯示資料庫清單</span><br><span class="line">use northwind;</span><br><span class="line"><span class="keyword">show</span> tables; <span class="operator">/</span><span class="operator">/</span>查看北風這個資料庫的所有表格</span><br><span class="line"><span class="keyword">show</span> columns form shippers; <span class="operator">/</span><span class="operator">/</span>特定資料表的資料結構</span><br><span class="line"><span class="keyword">desc</span> shippers; <span class="operator">/</span><span class="operator">/</span>discription 跟上面一個一樣</span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> names ; 調整字元集</span><br><span class="line"><span class="keyword">show</span> processlist;</span><br><span class="line">status;</span><br><span class="line">klii 編號;<span class="operator">/</span><span class="operator">/</span>可以砍掉資源爆炸的 client </span><br></pre></td></tr></table></figure>

<h3 id="建立資料庫"><a href="#建立資料庫" class="headerlink" title="建立資料庫"></a>建立資料庫</h3><ul>
<li>不要有空格、不要有保留字</li>
<li>可以用 中括號 []</li>
<li>寫法CREATE DATABASE [IF NOT EXISTS] db_name<br>  DEFAULT chracter SET charset_name;</li>
<li>會自動把資料變成小寫，因為在 lunix 會分大小寫，所以是好意</li>
</ul>
<p>會跳出目前 database 存放的資料夾</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> variables <span class="keyword">like</span> <span class="string">&#x27;datadir&#x27;</span>; </span><br><span class="line"><span class="keyword">create</span> database LAB15: <span class="operator">/</span><span class="operator">/</span>就算取大寫，mysql也會轉成小寫</span><br></pre></td></tr></table></figure>

<p>如果直接在 C:\xampp\mysql\data 新增資料夾，也會跳在 mysql 的資料酷清單裡面</p>
<p>創建資料庫指令 </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> Database labdb;</span><br><span class="line"><span class="keyword">DEFAULT</span> <span class="type">character</span> <span class="keyword">SET</span> utf8; <span class="operator">/</span><span class="operator">/</span>這段一定要寫</span><br></pre></td></tr></table></figure>

<aside>
💡 網頁設計的字元是 utf-8，但在SQL是 utf8 ，SQL會無法辨識utf-8

</aside>


<h3 id="建立資料表"><a href="#建立資料表" class="headerlink" title="建立資料表"></a>建立資料表</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> catrgories</span><br><span class="line">(</span><br><span class="line">	CategoryID <span class="type">int</span>(<span class="number">11</span>) defaule <span class="number">0.</span></span><br><span class="line">	CategorName <span class="type">varchar</span>(<span class="number">15</span>)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">show</span> tables; <span class="operator">/</span><span class="operator">/</span> 檢查是否有建立成功</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t1 (id,data)<span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;123456789&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t1 (id,data)<span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;12345678902135&#x27;</span>); <span class="operator">/</span><span class="operator">/</span>超過的資料會被掠過</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t1 (id,data)<span class="keyword">values</span>(<span class="number">3</span>,<span class="string">&#x27;一二三四五六七八九十&#x27;</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t1;</span><br></pre></td></tr></table></figure>

<h3 id="資料型別"><a href="#資料型別" class="headerlink" title="資料型別"></a>資料型別</h3><ul>
<li>整數  INT ( 正負21億多字元)</li>
<li>字串  varchar (可變動長度的文字欄位，裡面放utf8 或 big5 是沿用資料庫的字元集)<ul>
<li>如果要 modify 縮短欄位，可能會裁掉一點資料 ( 危險 )</li>
</ul>
</li>
<li>auto_increment 預設從 1 號開始編碼，會自動往下增加值，必須是一個 key 欄位 ，編號可以自己編</li>
<li>primary key 跟上面是同一個配套</li>
</ul>
<p>練習</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t2 (</span><br><span class="line">  id <span class="type">int</span> <span class="keyword">primary</span> key, <span class="operator">/</span><span class="operator">/</span>PK 唯一性</span><br><span class="line">  data <span class="type">varchar</span>(<span class="number">10</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t2 (id, data) <span class="keyword">values</span> (<span class="number">1</span>, <span class="string">&#x27;100&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t2 (id, data) <span class="keyword">values</span> (<span class="number">2</span>, <span class="string">&#x27;200&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t2 (id, data) <span class="keyword">values</span> (<span class="number">1</span>, <span class="string">&#x27;100&#x27;</span>); <span class="operator">/</span><span class="operator">/</span>這會因為PK重複而跳error</span><br><span class="line"></span><br><span class="line"><span class="comment">----</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t3 (</span><br><span class="line">  id <span class="type">int</span> auto_increment <span class="keyword">primary</span> key, <span class="operator">/</span><span class="operator">/</span>PK 唯一性</span><br><span class="line">  data <span class="type">varchar</span>(<span class="number">10</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t3 (data) <span class="keyword">values</span> (<span class="string">&#x27;100&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t3 (data) <span class="keyword">values</span> (<span class="string">&#x27;200&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t3 (data) <span class="keyword">values</span> (<span class="string">&#x27;100&#x27;</span>); <span class="operator">/</span><span class="operator">/</span>不用給 id 的值，因為它會自動跳號</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t3;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t3 (id, data) <span class="keyword">values</span> (<span class="number">5</span>,<span class="string">&#x27;104&#x27;</span>);<span class="operator">/</span><span class="operator">/</span>id 可以自己填入並跳號</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t3 (data) <span class="keyword">values</span> (<span class="string">&#x27;200&#x27;</span>); <span class="operator">/</span><span class="operator">/</span> 但之後再<span class="keyword">insert</span>的值就會照你插隊的編碼往後排</span><br></pre></td></tr></table></figure>

<p>可以看創建 t3 表格的標準寫法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> t3;</span><br></pre></td></tr></table></figure>


<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t4 (</span><br><span class="line">  id <span class="type">int</span> auto_increment <span class="keyword">primary</span> key, <span class="operator">/</span><span class="operator">/</span>PK 唯一性</span><br><span class="line">  data <span class="type">varchar</span>(<span class="number">10</span>),</span><br><span class="line">	data2 <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">default</span> <span class="string">&#x27;ABC&#x27;</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t4 (data) <span class="keyword">values</span> (<span class="string">&#x27;100&#x27;</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t4; <span class="operator">/</span><span class="operator">/</span>data2的預設值就會是 ABC</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t4 (data) <span class="keyword">values</span> (<span class="string">&#x27;100&#x27;</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t4;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t4 (data, data2) <span class="keyword">values</span> (<span class="string">&#x27;100&#x27;</span>, <span class="string">&#x27;XYZ&#x27;</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t4;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>語法問題 : insert into 欄位清單 跟 值 的量要一樣</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> t1 <span class="keyword">add</span> idTemp <span class="type">int</span> auto_increment <span class="keyword">primary</span> key;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t1; <span class="operator">/</span><span class="operator">/</span>欄位值自動帶入 <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> ...</span><br><span class="line"><span class="keyword">delete</span> form t1 <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">1</span> </span><br></pre></td></tr></table></figure>

<ul>
<li>資料庫正確性，每一筆紀錄都要有辦法跟另外一筆資料做區隔</li>
<li>識別型欄位，inentify，一定要有PK，否則後患無窮</li>
</ul>
<p>desc table_name 查詢欄位限制 </p>
<p>錯把資料內容當結構</p>
<p>功能需求、資料動線</p>
<ul>
<li>Entity 對MySQL資料庫來說是資料表 Table，但對其他程式來說是一個節點、其他中性的定義</li>
<li>Instance 是一個</li>
<li>Attribute : Instance 是描述資訊</li>
</ul>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/faea416c-c8d5-45ed-bfaf-1d1c92d62c55/Untitled.png" alt="Untitled"></p>
<ul>
<li>一對一 | 員工 對 員工</li>
</ul>
<p>資料表先有功能、額外還有效能、安全性</p>
<ul>
<li>用 PK 效率也比較快 ( 直接指定，不用篩選 )</li>
</ul>
<p>對既有的表格增加限制</p>
<p>比較少這樣寫，通常都是創建表格會寫</p>
<h3 id="ForeignKey-FK-外鍵"><a href="#ForeignKey-FK-外鍵" class="headerlink" title="ForeignKey FK 外鍵"></a>ForeignKey FK 外鍵</h3><p>要設定 FK 之前要有 PK 在，常見外鍵的情況有</p>
<ul>
<li>多對一關係 : 比如一個訂單有多筆明細，就會把 FK 的限制下在明細的表格上，沒有這筆訂單就不可能有那筆訂單的明細，不可能憑空生出一個明細。</li>
<li>一對一關係 : 比如使用者帳密，一個使用者只會有一組帳密，所以會在帳密的表格下外鍵限制，對照用戶主表格的主鍵。</li>
<li>多對多關係 : 一個論壇網站上，每個主題都會有多個回覆，每個回覆可以回應多個主題，在這種情況下，需要建立一個中介表格，紀錄主題和回覆之間的關係，中介表格需要參照主題表格回覆，和回覆表格的主鍵。</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">use northwind; <span class="operator">/</span><span class="operator">/</span>使用北風資料庫</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> labC</span><br><span class="line">  <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> customers; <span class="operator">/</span><span class="operator">/</span>用customers複製表的內容，創建一個表格叫做labC</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> labO</span><br><span class="line">  <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> orders;  <span class="operator">/</span><span class="operator">/</span>用customers複製表的內容，創建一個表格叫做labO</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> labO (orderId, customerId) <span class="keyword">values</span> (<span class="number">16001</span>, <span class="string">&#x27;12345&#x27;</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> labO <span class="keyword">where</span> orderId <span class="operator">=</span> <span class="number">16001</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> labO <span class="keyword">where</span> orderId <span class="operator">=</span> <span class="number">16001</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> labC </span><br><span class="line">  <span class="keyword">add</span> <span class="keyword">constraint</span> pk_customer  <span class="operator">/</span><span class="operator">/</span>命名 pk 的名字</span><br><span class="line">    <span class="keyword">primary</span> key (customerId); <span class="operator">/</span><span class="operator">/</span>在 labC 表格下 PK 值</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> labO</span><br><span class="line">  <span class="keyword">add</span> <span class="keyword">constraint</span> pk_order <span class="operator">/</span><span class="operator">/</span> 命名 pk 的名字</span><br><span class="line">    <span class="keyword">primary</span> key (orderId); <span class="operator">/</span><span class="operator">/</span>在 labO 表格下 PK 值</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> labO <span class="operator">/</span><span class="operator">/</span>選擇要下 FK 限制的表格</span><br><span class="line">  <span class="keyword">add</span> <span class="keyword">constraint</span> FK_LabO_LabC <span class="operator">/</span><span class="operator">/</span>命名這段 FK 的名字( 最好有兩個表的關聯 ) </span><br><span class="line">    <span class="keyword">foreign</span> key (customerId) <span class="keyword">references</span> labC (customerId); <span class="operator">/</span><span class="operator">/</span> 對照 labC 的表</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> labO (orderId, customerId) <span class="keyword">values</span> (<span class="number">16001</span>, <span class="string">&#x27;12345&#x27;</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> labO <span class="keyword">where</span> orderId <span class="operator">=</span> <span class="number">16001</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> labO <span class="operator">/</span><span class="operator">/</span>選擇表格</span><br><span class="line">  <span class="keyword">drop</span> <span class="keyword">constraint</span> FK_LabO_LabC; <span class="operator">/</span><span class="operator">/</span>刪掉欄位的規範 FK</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> labO </span><br><span class="line">  <span class="keyword">add</span> <span class="keyword">constraint</span> FK_LabO_LabC</span><br><span class="line">    <span class="keyword">foreign</span> key (customerId) <span class="keyword">references</span> labC (customerId)</span><br><span class="line">      <span class="keyword">on</span> <span class="keyword">delete</span> cascade <span class="keyword">on</span> <span class="keyword">update</span> cascade; <span class="operator">/</span><span class="operator">/</span> 增加這段會限制 labO 的 customerId 欄位</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>必須對照 labC 有的資料才能修改或刪除，如果 labC 沒有這個資料 則會跳error</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>ERROR <span class="number">1452</span> (<span class="number">23000</span>): Cannot <span class="keyword">add</span> <span class="keyword">or</span> <span class="keyword">update</span> a child <span class="type">row</span>: a <span class="keyword">foreign</span> key <span class="keyword">constraint</span> fails</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>舉例 : labO 是訂單表格，如果要新增一筆沒有在 labC 表格中的客戶，則訂單無法成立</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>需要先在客戶訂單先新增客戶，才能在訂單新增有這個客戶的訂單</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> customerID, companyName <span class="keyword">from</span> labC <span class="keyword">where</span> customerId <span class="keyword">like</span> <span class="string">&#x27;A%&#x27;</span>;</span><br><span class="line"><span class="keyword">select</span> orderId, customerId <span class="keyword">from</span> labO <span class="keyword">where</span> customerId <span class="operator">=</span> <span class="string">&#x27;ALFKI&#x27;</span>;</span><br><span class="line"><span class="keyword">update</span> labC <span class="keyword">set</span> customerId <span class="operator">=</span> <span class="string">&#x27;AAAAA&#x27;</span> <span class="keyword">where</span> customerId <span class="operator">=</span> <span class="string">&#x27;ALFKI&#x27;</span>;</span><br><span class="line"><span class="keyword">select</span> orderId, customerId <span class="keyword">from</span> labO <span class="keyword">where</span> customerId <span class="operator">=</span> <span class="string">&#x27;AAAAA&#x27;</span>;</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> labC <span class="keyword">where</span> customerId <span class="operator">=</span> <span class="string">&#x27;AAAAA&#x27;</span>;</span><br><span class="line"><span class="keyword">select</span> orderId, customerId <span class="keyword">from</span> labO <span class="keyword">where</span> customerId <span class="operator">=</span> <span class="string">&#x27;AAAAA&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>如果拿到一個陌生的表格，不知道 FK 的關係，也是一樣要從</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span>在 KEY 欄位可確認 FK限制是對照哪個一個表格用 </span><br><span class="line"><span class="keyword">desc</span> labO;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>去查詢看到 key 欄位有 PRI(主鍵)、UNI(唯一)、MUL(外鍵)</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>PRI自帶兩個好處 uniqlo、<span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>同一個列可以有多個鍵 優先順序是PRI、UNI、MUL</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>一個表只能有一個 PRI，可以有多個UNI、MUL</span><br><span class="line"><span class="operator">+</span><span class="comment">----------------+---------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field          <span class="operator">|</span> Type          <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------------+---------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> OrderID        <span class="operator">|</span> <span class="type">int</span>(<span class="number">11</span>)       <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="number">0</span>       <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> CustomerID     <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">5</span>)    <span class="operator">|</span> YES  <span class="operator">|</span> MUL <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> EmployeeID     <span class="operator">|</span> <span class="type">int</span>(<span class="number">11</span>)       <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> OrderDate      <span class="operator">|</span> datetime      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> RequiredDate   <span class="operator">|</span> datetime      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> ShippedDate    <span class="operator">|</span> datetime      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> ShipVia        <span class="operator">|</span> <span class="type">int</span>(<span class="number">11</span>)       <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Freight        <span class="operator">|</span> <span class="type">decimal</span>(<span class="number">19</span>,<span class="number">4</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> ShipName       <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">40</span>)   <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> ShipAddress    <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">60</span>)   <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> ShipCity       <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">15</span>)   <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> ShipRegion     <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">15</span>)   <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> ShipPostalCode <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">10</span>)   <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> ShipCountry    <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">15</span>)   <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------------+---------------+------+-----+---------+-------+</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> table_name;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>會看到資料庫的限制</span><br><span class="line"><span class="operator">|</span> labO  <span class="operator">|</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `labo` (</span><br><span class="line">  `OrderID` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">0</span>,</span><br><span class="line">  `CustomerID` <span class="type">varchar</span>(<span class="number">5</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `EmployeeID` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `OrderDate` datetime <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `RequiredDate` datetime <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `ShippedDate` datetime <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `ShipVia` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `Freight` <span class="type">decimal</span>(<span class="number">19</span>,<span class="number">4</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `ShipName` <span class="type">varchar</span>(<span class="number">40</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `ShipAddress` <span class="type">varchar</span>(<span class="number">60</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `ShipCity` <span class="type">varchar</span>(<span class="number">15</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `ShipRegion` <span class="type">varchar</span>(<span class="number">15</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `ShipPostalCode` <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `ShipCountry` <span class="type">varchar</span>(<span class="number">15</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`OrderID`),</span><br><span class="line">  KEY `FK_LabO_LabC` (`CustomerID`),</span><br><span class="line">  <span class="keyword">CONSTRAINT</span> `FK_LabO_LabC` <span class="keyword">FOREIGN</span> KEY (`CustomerID`) <span class="keyword">REFERENCES</span> `labc` (`CustomerID`) <span class="keyword">ON</span> <span class="keyword">DELETE</span> CASCADE <span class="keyword">ON</span> <span class="keyword">UPDATE</span> CASCADE</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8 <span class="keyword">COLLATE</span><span class="operator">=</span>utf8_general_ci <span class="operator">|</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="多對多-FK-關係理解"><a href="#多對多-FK-關係理解" class="headerlink" title="多對多 FK 關係理解"></a>多對多 FK 關係理解</h3><p>假設有兩個表格 students 跟 curses，一個學生可以選擇多個課程，同一個課程也可能被多個學生選擇，這就是多對多的關係。</p>
<h3 id="情境題"><a href="#情境題" class="headerlink" title="情境題"></a>情境題</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> students (</span><br><span class="line">  id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">  name <span class="type">VARCHAR</span>(<span class="number">50</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> courses (</span><br><span class="line">  id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">  name <span class="type">VARCHAR</span>(<span class="number">50</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>因為雙方表格的PK都會重複多個出現在對照表格的PK，所以建立多對多關係，我們需要一個中間表格，記錄學生和課程對應關係，在這表格建立兩個外鍵，分別指向兩個表個得主鍵。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> enrollments ( <span class="operator">/</span><span class="operator">/</span>創造中間表格</span><br><span class="line">	enrollment_id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY,  <span class="operator">/</span><span class="operator">/</span>並設定主鍵pk</span><br><span class="line">	student_id <span class="type">INT</span>, <span class="operator">/</span><span class="operator">/</span>先把兩個要對照的表個的id創一個欄位</span><br><span class="line">  course_id <span class="type">INT</span>,</span><br><span class="line">  <span class="keyword">FOREIGN</span> KEY (student_id) <span class="keyword">REFERENCES</span> students(id),</span><br><span class="line">  <span class="keyword">FOREIGN</span> KEY (course_id) <span class="keyword">REFERENCES</span> courses(id)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<ul>
<li>其他資料表可以設定規則名稱 check( 運算式 ) 但 mysql 不檢查 ( 會檢查 PK、FK )</li>
</ul>
<p>FK 會連鎖刪除資料</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t6 (id <span class="type">int</span> <span class="keyword">primary</span> key, data <span class="type">int</span>);</span><br></pre></td></tr></table></figure>

<h3 id="臨時性資料表"><a href="#臨時性資料表" class="headerlink" title="臨時性資料表"></a>臨時性資料表</h3><p>建立一個只有這個連線知道，一個臨時的表，直到這個連線結束，這個表也會一起消失</p>
<p>他可以應用在</p>
<ul>
<li>執行大型操作，快速查詢和分析</li>
<li>對大量數據進行排序、分組計算，可以簡化SQL語句，提高效率</li>
<li>對數據進行加工、批量，都可以提高效率、安全、方便。</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> temporary <span class="keyword">table</span> t16 ( id <span class="type">int</span> <span class="keyword">primary</span> key, data <span class="type">int</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t16 (id, data) <span class="keyword">values</span> ( <span class="number">1</span>, <span class="number">100</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t16;</span><br></pre></td></tr></table></figure>

<p>另外一個訪客會無法建立同一個臨時資料表</p>
<h3 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h3><ul>
<li>哪些資料會查詢比較多</li>
</ul>
<h3 id="實體關係圖-Entity-Relation"><a href="#實體關係圖-Entity-Relation" class="headerlink" title="實體關係圖 Entity-Relation"></a>實體關係圖 Entity-Relation</h3><h3 id="資料庫結構檢查-First-Normal-Form"><a href="#資料庫結構檢查-First-Normal-Form" class="headerlink" title="資料庫結構檢查 First Normal Form"></a>資料庫結構檢查 First Normal Form</h3><p>具備第一正規化、第二正規化等… 都是標準流程，這只是一個概念</p>
<p>第一正規化</p>
<p>知道這些規則就好，要理解這些規則背後的用意是什麼 ? </p>
<p>老師補充 但大師說的是不能有重複欄位</p>
<ul>
<li>要有PK</li>
<li>不能有重複的欄位9</li>
<li>欄位名稱 空格 運算式 ( JS ) 在作運算</li>
<li>這個規則資料庫大多不及格</li>
</ul>
<p>第二正規化</p>
<ul>
<li>和主鍵不相依的欄位，應該移去另外一個資料表</li>
<li>欄位符合這個 table 的主旨</li>
</ul>
<p>第三正規化</p>
<ul>
<li>一個表有兩個額外主題的小團體應該獨立出去</li>
</ul>
<h2 id="Security-for-SQL"><a href="#Security-for-SQL" class="headerlink" title="Security for SQL"></a>Security for SQL</h2><p>針對安全性設計有幾個可以注意的點</p>
<ul>
<li>使用高強度密碼  ( 長度至少 12 字元，包含大小寫、數字、符號 )</li>
<li>最小化權限，使用 MySQL 的 <code>GRANT</code> 和 <code>REVOKE</code> 指令來授權使用者的權限。</li>
<li>定期備份資料</li>
<li>使用 SSL&#x2F;TLS</li>
<li>防止 SQL 注入攻擊</li>
<li>監控資料庫活動</li>
<li>使用最新版本的 MySQL</li>
</ul>
<h3 id="SQL-安全性"><a href="#SQL-安全性" class="headerlink" title="SQL 安全性"></a>SQL 安全性</h3><ul>
<li>權限設定 : 以一整個伺服器、一個資料表作設定<ul>
<li>mmsql 可以給整個資料庫，只保護幾個表</li>
<li>mysql 只能一個個設定</li>
</ul>
</li>
</ul>
<h2 id="全域權限查詢"><a href="#全域權限查詢" class="headerlink" title="全域權限查詢"></a>全域權限查詢</h2><p>打開SQL伺服器後，登入SQL </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">use mysql; <span class="operator">/</span><span class="operator">/</span>查看全域設定，查詢全域語法、帳密</span><br><span class="line"><span class="operator">+</span><span class="comment">------------------------+---------------------+------+-----+----------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field                  <span class="operator">|</span> Type                <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span>  <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------------------+---------------------+------+-----+----------+-------+</span></span><br><span class="line"><span class="operator">|</span> Host                   <span class="operator">|</span> <span class="type">char</span>(<span class="number">60</span>)            <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span>          <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">User</span>                   <span class="operator">|</span> <span class="type">char</span>(<span class="number">80</span>)            <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span>          <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Password               <span class="operator">|</span> longtext            <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Select_priv            <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Insert_priv            <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Update_priv            <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Delete_priv            <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Create_priv            <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Drop_priv              <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Reload_priv            <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Shutdown_priv          <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Process_priv           <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> File_priv              <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Grant_priv             <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> References_priv        <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Index_priv             <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Alter_priv             <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Show_db_priv           <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Super_priv             <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Create_tmp_table_priv  <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Lock_tables_priv       <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Execute_priv           <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Repl_slave_priv        <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Repl_client_priv       <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Create_view_priv       <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Show_view_priv         <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Create_routine_priv    <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Alter_routine_priv     <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Create_user_priv       <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Event_priv             <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Trigger_priv           <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Create_tablespace_priv <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Delete_history_priv    <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> ssl_type               <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">9</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> ssl_cipher             <span class="operator">|</span> longtext            <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span>          <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x509_issuer            <span class="operator">|</span> longtext            <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span>          <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> x509_subject           <span class="operator">|</span> longtext            <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span>          <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> max_questions          <span class="operator">|</span> <span class="type">bigint</span>(<span class="number">20</span>) unsigned <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="number">0</span>        <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> max_updates            <span class="operator">|</span> <span class="type">bigint</span>(<span class="number">20</span>) unsigned <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="number">0</span>        <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> max_connections        <span class="operator">|</span> <span class="type">bigint</span>(<span class="number">20</span>) unsigned <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="number">0</span>        <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> max_user_connections   <span class="operator">|</span> <span class="type">bigint</span>(<span class="number">21</span>)          <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="number">0</span>        <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> plugin                 <span class="operator">|</span> longtext            <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span>          <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> authentication_string  <span class="operator">|</span> longtext            <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span>          <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> password_expired       <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span>          <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> is_role                <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">1</span>)          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> default_role           <span class="operator">|</span> longtext            <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span>          <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> max_statement_time     <span class="operator">|</span> <span class="type">decimal</span>(<span class="number">12</span>,<span class="number">6</span>)       <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="number">0.000000</span> <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------------------+---------------------+------+-----+----------+-------+</span></span><br></pre></td></tr></table></figure>

<p>user 資料表查詢，有prub</p>
<p>host 連線後從哪裡連線過來，有很多連線有很多身分 ( 一般人不用做到這麼細緻 )</p>
<p>root 帳號 從 Localhost 近來，權限通常都是用列舉型態，哪個帳號在哪個資料庫可以下句子，以資料庫為單位作權限</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">user</span>, host, password <span class="keyword">from</span> <span class="keyword">user</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+-----------+----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">User</span> <span class="operator">|</span> Host      <span class="operator">|</span> Password <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-----------+----------+</span></span><br><span class="line"><span class="operator">|</span> root <span class="operator">|</span> localhost <span class="operator">|</span>          <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> root <span class="operator">|</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="operator">|</span>          <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> root <span class="operator">|</span> ::<span class="number">1</span>       <span class="operator">|</span>          <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> pma  <span class="operator">|</span> localhost <span class="operator">|</span>          <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-----------+----------+</span></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> 可以看到那些 <span class="keyword">user</span> 可以看到從那些地方連線過來的</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> 在使用 </span><br><span class="line"><span class="keyword">select</span> host, db, <span class="keyword">user</span>, select_priv, insert_priv, update_priv <span class="keyword">from</span> db;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------+------+-------------+-------------+-------------+</span></span><br><span class="line"><span class="operator">|</span> host      <span class="operator">|</span> db         <span class="operator">|</span> <span class="keyword">user</span> <span class="operator">|</span> select_priv <span class="operator">|</span> insert_priv <span class="operator">|</span> update_priv <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------+------+-------------+-------------+-------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">%</span>         <span class="operator">|</span> test       <span class="operator">|</span>      <span class="operator">|</span> Y           <span class="operator">|</span> Y           <span class="operator">|</span> Y           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">%</span>         <span class="operator">|</span> test\_<span class="operator">%</span>    <span class="operator">|</span>      <span class="operator">|</span> Y           <span class="operator">|</span> Y           <span class="operator">|</span> Y           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> localhost <span class="operator">|</span> phpmyadmin <span class="operator">|</span> pma  <span class="operator">|</span> Y           <span class="operator">|</span> Y           <span class="operator">|</span> Y           <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------+------+-------------+-------------+-------------+</span></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>可以看到個別使用者 全域的權限，個別可以使用的語法有什麼，通常工作時不會使用 root 帳號</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span><span class="keyword">user</span> 那欄是空的 <span class="operator">=</span> test 或 test 開頭的資料庫，所有人都可以使用</span><br></pre></td></tr></table></figure>

<p>root 可以對全域中所有資料庫下指令</p>
<h3 id="理解-MySQL-中，資料庫的結構"><a href="#理解-MySQL-中，資料庫的結構" class="headerlink" title="理解 MySQL 中，資料庫的結構"></a>理解 MySQL 中，資料庫的結構</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">desc</span> db;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------+---------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field                 <span class="operator">|</span> Type          <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------+---------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Host                  <span class="operator">|</span> <span class="type">char</span>(<span class="number">60</span>)      <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span>         <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Db                    <span class="operator">|</span> <span class="type">char</span>(<span class="number">64</span>)      <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span>         <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">User</span>                  <span class="operator">|</span> <span class="type">char</span>(<span class="number">80</span>)      <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span>         <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Select_priv           <span class="operator">|</span> enum(<span class="string">&#x27;N&#x27;</span>,<span class="string">&#x27;Y&#x27;</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> N       <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Insert_priv           <span class="operator">|</span> enum(<span class="string">&#x27;N&#x27;</span>,<span class="string">&#x27;Y&#x27;</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> N       <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Update_priv           <span class="operator">|</span> enum(<span class="string">&#x27;N&#x27;</span>,<span class="string">&#x27;Y&#x27;</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> N       <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Delete_priv           <span class="operator">|</span> enum(<span class="string">&#x27;N&#x27;</span>,<span class="string">&#x27;Y&#x27;</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> N       <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Create_priv           <span class="operator">|</span> enum(<span class="string">&#x27;N&#x27;</span>,<span class="string">&#x27;Y&#x27;</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> N       <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Drop_priv             <span class="operator">|</span> enum(<span class="string">&#x27;N&#x27;</span>,<span class="string">&#x27;Y&#x27;</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> N       <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Grant_priv            <span class="operator">|</span> enum(<span class="string">&#x27;N&#x27;</span>,<span class="string">&#x27;Y&#x27;</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> N       <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> References_priv       <span class="operator">|</span> enum(<span class="string">&#x27;N&#x27;</span>,<span class="string">&#x27;Y&#x27;</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> N       <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Index_priv            <span class="operator">|</span> enum(<span class="string">&#x27;N&#x27;</span>,<span class="string">&#x27;Y&#x27;</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> N       <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Alter_priv            <span class="operator">|</span> enum(<span class="string">&#x27;N&#x27;</span>,<span class="string">&#x27;Y&#x27;</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> N       <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Create_tmp_table_priv <span class="operator">|</span> enum(<span class="string">&#x27;N&#x27;</span>,<span class="string">&#x27;Y&#x27;</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> N       <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Lock_tables_priv      <span class="operator">|</span> enum(<span class="string">&#x27;N&#x27;</span>,<span class="string">&#x27;Y&#x27;</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> N       <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Create_view_priv      <span class="operator">|</span> enum(<span class="string">&#x27;N&#x27;</span>,<span class="string">&#x27;Y&#x27;</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> N       <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Show_view_priv        <span class="operator">|</span> enum(<span class="string">&#x27;N&#x27;</span>,<span class="string">&#x27;Y&#x27;</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> N       <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Create_routine_priv   <span class="operator">|</span> enum(<span class="string">&#x27;N&#x27;</span>,<span class="string">&#x27;Y&#x27;</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> N       <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Alter_routine_priv    <span class="operator">|</span> enum(<span class="string">&#x27;N&#x27;</span>,<span class="string">&#x27;Y&#x27;</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> N       <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Execute_priv          <span class="operator">|</span> enum(<span class="string">&#x27;N&#x27;</span>,<span class="string">&#x27;Y&#x27;</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> N       <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Event_priv            <span class="operator">|</span> enum(<span class="string">&#x27;N&#x27;</span>,<span class="string">&#x27;Y&#x27;</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> N       <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Trigger_priv          <span class="operator">|</span> enum(<span class="string">&#x27;N&#x27;</span>,<span class="string">&#x27;Y&#x27;</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> N       <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Delete_history_priv   <span class="operator">|</span> enum(<span class="string">&#x27;N&#x27;</span>,<span class="string">&#x27;Y&#x27;</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> N       <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------+---------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> enum 是列舉格式，表示在哪個欄位中只能使用 N 或 Y，也是權限的意思</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> <span class="keyword">Default</span> 是預設值的意思</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> Extra 其他屬性 </span><br></pre></td></tr></table></figure>

<aside>
💡 會詳細列出可以做甚麼 Type 從哪部連過來的使用者，在哪個資料庫哪一個資料表，有什麼權限 ( 集合項 ) 通常只有 select、insert、update、references 這四個

</aside>

<h2 id="新增使用者-CREATE-USER-…-BY-…"><a href="#新增使用者-CREATE-USER-…-BY-…" class="headerlink" title="新增使用者 CREATE USER … BY …"></a>新增使用者 CREATE USER … BY …</h2><ul>
<li>新增使用者能不能沒有密碼，要看 SQL_MODEL 的設定</li>
<li>使用者名稱會分辨英文大小寫 ，推薦全部小寫<ul>
<li>大部分系統都不會分辨，為避免錯誤，須注意規範為小寫</li>
</ul>
</li>
<li>可以分辨使用者從哪裡 Host 連線近來</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">新增使用者方法<span class="number">2</span> : 建立使用者，在受理權限 ( 推薦 )</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>預設權限會是 N</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> jeter identified <span class="keyword">by</span> <span class="string">&#x27;Pa$$w0rd&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-----------+----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">User</span>  <span class="operator">|</span> Host      <span class="operator">|</span> password <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-----------+----------+</span></span><br><span class="line"><span class="operator">|</span> root  <span class="operator">|</span> localhost <span class="operator">|</span> Y        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> carl  <span class="operator">|</span> <span class="operator">%</span>         <span class="operator">|</span> N        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> root  <span class="operator">|</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="operator">|</span> Y        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> root  <span class="operator">|</span> ::<span class="number">1</span>       <span class="operator">|</span> Y        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> pma   <span class="operator">|</span> localhost <span class="operator">|</span> N        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Carl  <span class="operator">|</span> <span class="operator">%</span>         <span class="operator">|</span> N        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> jeter <span class="operator">|</span> <span class="operator">%</span>         <span class="operator">|</span> N        <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-----------+----------+</span></span><br><span class="line"></span><br><span class="line">新增使用者方法<span class="number">1</span> : 受理連線權</span><br><span class="line"><span class="keyword">GRANT</span> USAGE <span class="keyword">ON</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">TO</span> carl@<span class="string">&#x27;%&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;Pa$$w0rd&#x27;</span>;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> <span class="keyword">grant</span>連線、受理權限給、<span class="operator">*</span>.<span class="operator">*</span>全部使用 給 carl 這個管理員 </span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> @<span class="string">&#x27;% ( 不是很常用 ) 不限定從哪裡連線來</span></span><br><span class="line"><span class="string">+-------+-----------+-------------+-------------------------------------------+</span></span><br><span class="line"><span class="string">| User  | Host      | Select_priv | Password                                  |</span></span><br><span class="line"><span class="string">+-------+-----------+-------------+-------------------------------------------+</span></span><br><span class="line"><span class="string">| root  | localhost | Y           |                                           |</span></span><br><span class="line"><span class="string">| carl  | %         | N           | 　　　　　　　　　　　　　　　　　　　　　　 |</span></span><br><span class="line"><span class="string">| root  | 127.0.0.1 | Y           |                                           |</span></span><br><span class="line"><span class="string">| root  | ::1       | Y           |                                           |</span></span><br><span class="line"><span class="string">| pma   | localhost | N           |                                           |</span></span><br><span class="line"><span class="string">| Carl  | %         | N           |                                           |</span></span><br><span class="line"><span class="string">| jeter | %         | N           |                                           |</span></span><br><span class="line"><span class="string">+-------+-----------+-------------+-------------------------------------------+</span></span><br><span class="line"><span class="string">//password是雜湊</span></span><br></pre></td></tr></table></figure>

<h2 id="授予權限-GRANT-…-ON-…-TO-…"><a href="#授予權限-GRANT-…-ON-…-TO-…" class="headerlink" title="授予權限 GRANT … ON … TO …"></a>授予權限 GRANT … ON … TO …</h2><ul>
<li>可以寫在一起，也可以寫 3 行授予權限</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">授予全部權限</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">select</span> <span class="keyword">on</span> northwind.<span class="operator">*</span> <span class="keyword">to</span> carl;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>gront 什麼權限 <span class="keyword">on</span> 在哪個資料庫 <span class="keyword">to</span> 什麼人</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------+------+-------------+-------------+-------------+</span></span><br><span class="line"><span class="operator">|</span> host      <span class="operator">|</span> db         <span class="operator">|</span> <span class="keyword">user</span> <span class="operator">|</span> select_priv <span class="operator">|</span> insert_priv <span class="operator">|</span> update_priv <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------+------+-------------+-------------+-------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">%</span>         <span class="operator">|</span> test       <span class="operator">|</span>      <span class="operator">|</span> Y           <span class="operator">|</span> Y           <span class="operator">|</span> Y           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">%</span>         <span class="operator">|</span> test\_<span class="operator">%</span>    <span class="operator">|</span>      <span class="operator">|</span> Y           <span class="operator">|</span> Y           <span class="operator">|</span> Y           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> localhost <span class="operator">|</span> phpmyadmin <span class="operator">|</span> pma  <span class="operator">|</span> Y           <span class="operator">|</span> Y           <span class="operator">|</span> Y           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">%</span>         <span class="operator">|</span> northwind  <span class="operator">|</span> carl <span class="operator">|</span> Y           <span class="operator">|</span> N           <span class="operator">|</span> N           <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------+------+-------------+-------------+-------------+</span></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> norhtwind 現階段跟未來的指令都可以使用 </span><br><span class="line"></span><br><span class="line">授予特定資料庫、特定資料表</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">update</span> <span class="keyword">on</span> northwind.customers <span class="keyword">to</span> carl;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------+------+-------------+-------------+-------------+</span></span><br><span class="line"><span class="operator">|</span> host      <span class="operator">|</span> db         <span class="operator">|</span> <span class="keyword">user</span> <span class="operator">|</span> select_priv <span class="operator">|</span> insert_priv <span class="operator">|</span> update_priv <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------+------+-------------+-------------+-------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">%</span>         <span class="operator">|</span> test       <span class="operator">|</span>      <span class="operator">|</span> Y           <span class="operator">|</span> Y           <span class="operator">|</span> Y           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">%</span>         <span class="operator">|</span> test\_<span class="operator">%</span>    <span class="operator">|</span>      <span class="operator">|</span> Y           <span class="operator">|</span> Y           <span class="operator">|</span> Y           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> localhost <span class="operator">|</span> phpmyadmin <span class="operator">|</span> pma  <span class="operator">|</span> Y           <span class="operator">|</span> Y           <span class="operator">|</span> Y           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">%</span>         <span class="operator">|</span> northwind  <span class="operator">|</span> carl <span class="operator">|</span> Y           <span class="operator">|</span> N           <span class="operator">|</span> N           <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+------------+------+-------------+-------------+-------------+</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">insert</span> <span class="keyword">on</span> northwind.customers <span class="keyword">to</span> carl;</span><br><span class="line"><span class="keyword">select</span> host, db, <span class="keyword">user</span>, table_name, table_priv <span class="keyword">from</span> tables_priv;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+-----------+------+------------+---------------+</span></span><br><span class="line"><span class="operator">|</span> host <span class="operator">|</span> db        <span class="operator">|</span> <span class="keyword">user</span> <span class="operator">|</span> table_name <span class="operator">|</span> table_priv    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-----------+------+------------+---------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">%</span>    <span class="operator">|</span> northwind <span class="operator">|</span> carl <span class="operator">|</span> customers  <span class="operator">|</span> <span class="keyword">Insert</span>,<span class="keyword">Update</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-----------+------+------------+---------------+</span></span><br></pre></td></tr></table></figure>

<h2 id="收回權限-REVOKE-UPDATA-ON-…-FROM"><a href="#收回權限-REVOKE-UPDATA-ON-…-FROM" class="headerlink" title="收回權限 REVOKE UPDATA ON …. FROM"></a>收回權限 REVOKE UPDATA ON …. FROM</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">revoke</span> <span class="keyword">update</span> <span class="keyword">on</span> northwind.customers <span class="keyword">from</span> carl;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>收回權限 <span class="keyword">on</span> 在哪裡 <span class="keyword">from</span> 誰</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> host, db, <span class="keyword">user</span>, table_name, table_priv <span class="keyword">from</span> tables_priv;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+-----------+------+------------+------------+</span></span><br><span class="line"><span class="operator">|</span> host <span class="operator">|</span> db        <span class="operator">|</span> <span class="keyword">user</span> <span class="operator">|</span> table_name <span class="operator">|</span> table_priv <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-----------+------+------------+------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">%</span>    <span class="operator">|</span> northwind <span class="operator">|</span> carl <span class="operator">|</span> customers  <span class="operator">|</span> <span class="keyword">Insert</span>     <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-----------+------+------------+------------+</span></span><br><span class="line"></span><br><span class="line">如果再刪除最後一個權限</span><br><span class="line"><span class="keyword">revoke</span> <span class="keyword">insert</span> <span class="keyword">on</span> northwind.customers <span class="keyword">from</span> carl;</span><br><span class="line"><span class="keyword">Empty</span> <span class="keyword">set</span> (<span class="number">0.000</span> sec)</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>會變成最後的空字串</span><br></pre></td></tr></table></figure>

<h2 id="變更密碼-SET-…-FOR-…-x3D"><a href="#變更密碼-SET-…-FOR-…-x3D" class="headerlink" title="變更密碼  SET … FOR … &#x3D;"></a>變更密碼  SET … FOR … &#x3D;</h2><ul>
<li>盡量不要針對 root 去更改密碼</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> password <span class="keyword">for</span> carl <span class="operator">=</span> password(<span class="string">&#x27;456&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="更新-MySQL-資料庫的暫存-FLUSH-PRIVILEGES"><a href="#更新-MySQL-資料庫的暫存-FLUSH-PRIVILEGES" class="headerlink" title="更新 MySQL 資料庫的暫存 FLUSH PRIVILEGES"></a>更新 MySQL 資料庫的暫存 FLUSH PRIVILEGES</h2><ul>
<li>解決授予權限後，使用者卻還不能使用的狀況</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> <span class="keyword">select</span> <span class="keyword">on</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">to</span> carl; <span class="operator">/</span><span class="operator">/</span>創建 carl 在全域沒有權限</span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure>

<h3 id="MySQL-中-password-中會顯示雜湊演算法-Hashing-Algorithm"><a href="#MySQL-中-password-中會顯示雜湊演算法-Hashing-Algorithm" class="headerlink" title="MySQL 中 password 中會顯示雜湊演算法 Hashing Algorithm"></a>MySQL 中 password 中會顯示雜湊演算法 Hashing Algorithm</h3><p>會記雜湊後的結果，之後得到固定長度的內容，不是壓縮跟加密，但無法還原，是不可逆的</p>
<p>常見的雜湊演算法有 MD5、SHA-1、SHA-256等</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> password(<span class="string">&#x27;123&#x27;</span>);</span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> password(<span class="string">&#x27;123&#x27;</span>)                           <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">*</span><span class="number">23</span>AE809DDACAF96AF0FD78ED04B6A265E05AA257 <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------------------------------+</span></span><br></pre></td></tr></table></figure>

<h3 id="登入MySQL"><a href="#登入MySQL" class="headerlink" title="登入MySQL"></a>登入MySQL</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">-</span>u使用者名稱 <span class="operator">-</span>p</span><br><span class="line">Enter password:</span><br></pre></td></tr></table></figure>

<h2 id="檢視-View-表"><a href="#檢視-View-表" class="headerlink" title="檢視 View 表"></a>檢視 View 表</h2><p>一個 select 賦予它名稱，透用 view 間接拿到資料表，簡化語法</p>
<p>可以作資料控管</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span>語法</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> view_name <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> column1, column2, ...</span><br><span class="line"><span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">condition</span>;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>寫的時候不能用 <span class="keyword">order</span> <span class="keyword">by</span></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>但建立完 <span class="keyword">view</span> 後 之後 <span class="keyword">select</span> 可以用 <span class="keyword">order</span> <span class="keyword">by</span> 來排序 </span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> vBuy <span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> SupplierID, ProductID, ProductName, UnitsInStock, ReorderLevel</span><br><span class="line">  <span class="keyword">from</span> products</span><br><span class="line">  <span class="keyword">where</span> UnitsInStock <span class="operator">&lt;</span> ReorderLevel;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> vBuy <span class="keyword">order</span> <span class="keyword">by</span> SupplierID;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>看完可以刪除</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> IF <span class="keyword">EXISTS</span> vBuy ;</span><br><span class="line"><span class="keyword">DROP</span> vBuy ;</span><br></pre></td></tr></table></figure>

<h3 id="參考-微軟"><a href="#參考-微軟" class="headerlink" title="參考 | 微軟"></a>參考 | <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-tw/sql/relational-databases/security/authentication-access/getting-started-with-database-engine-permissions?view=sql-server-ver16">微軟</a></h3><ul>
<li><a target="_blank" rel="noopener" href="https://sqlbolt.com/lesson/select_queries_with_constraints_pt_2">題庫練習</a> | SQLbolt</li>
</ul>
<h3 id="SQL-Injection-插入"><a href="#SQL-Injection-插入" class="headerlink" title="SQL Injection 插入"></a>SQL <strong>Injection</strong> 插入</h3><p>select user, host, password from user;</p>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-license">
    <strong>版權聲明： </strong>本網誌所有文章除特別聲明外，均採用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 許可協議。轉載請註明出處！
  </li>
</ul>
</div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/mysql-database/" rel="tag"><i class="fa fa-tag"></i> mysql, database</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2023/03/15/%E8%A9%A6%E8%A3%9D%20utterances%20%E7%95%99%E8%A8%80%E6%9D%BF/" rel="prev" title="Hexo | 試裝 utterances 留言板">
      <i class="fa fa-chevron-left"></i> Hexo | 試裝 utterances 留言板
    </a></div>
      <div class="post-nav-item">
    <a href="/2024/05/13/HTML%20%E5%9F%BA%E7%A4%8E%E7%AD%86%E8%A8%98/" rel="next" title="html基礎筆記">
      html基礎筆記 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
<div>
    <section id="comments" class="comments">
    <style>
        .utterances{max-width: 100%;}
      </style>
      <script src="https://utteranc.es/client.js"
              repo="22aliang/22aliang.github.io"
              issue-term="title"
              label="💬"
              theme="github-dark"
              crossorigin="anonymous"
              async>
      </script>
  </section>
</div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目錄
        </li>
        <li class="sidebar-nav-overview">
          本站概要
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B3%87%E6%96%99%E5%BA%AB%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%9A%E7%BE%A9"><span class="nav-number">1.</span> <span class="nav-text">資料庫的通用定義</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Non-Relational-Database-or-NoSQL-Database"><span class="nav-number">2.</span> <span class="nav-text">Non-Relational Database ( or NoSQL Database )</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E5%88%AA%E6%9F%A5%E6%94%B9-CRUD"><span class="nav-number">3.</span> <span class="nav-text">增刪查改 CRUD</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%97%9C%E8%81%AF%E5%BC%8F%E8%B3%87%E6%96%99%E5%BA%AB%E9%82%8F%E8%BC%AF%E7%B5%90%E6%A7%8B"><span class="nav-number"></span> <span class="nav-text">關聯式資料庫邏輯結構</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Keys-%E9%97%9C%E4%BF%82%E9%8D%B5"><span class="nav-number">1.</span> <span class="nav-text">Keys 關係鍵</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL"><span class="nav-number">2.</span> <span class="nav-text">SQL</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Codeing-Style"><span class="nav-number">3.</span> <span class="nav-text">Codeing Style</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL-Data-Types-%E8%B3%87%E6%96%99%E9%A1%9E%E5%9E%8B"><span class="nav-number">4.</span> <span class="nav-text">SQL Data Types 資料類型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL-%E5%9F%BA%E6%9C%AC%E8%AA%9E%E6%B3%95"><span class="nav-number">5.</span> <span class="nav-text">SQL 基本語法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Cartesian-Product-%E7%AC%9B%E5%8D%A1%E7%88%BE%E4%B9%98%E7%A9%8D"><span class="nav-number">6.</span> <span class="nav-text">Cartesian Product 笛卡爾乘積</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%80%E9%BA%BC%E6%98%AF-NULL-Value-%E5%80%BC"><span class="nav-number">7.</span> <span class="nav-text">什麼是 NULL Value 值 ?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%80%E9%BA%BC%E6%98%AFXAMPP"><span class="nav-number">8.</span> <span class="nav-text">什麼是XAMPP ?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%80%E9%BA%BC%E6%98%AF-localhost"><span class="nav-number">9.</span> <span class="nav-text">什麼是 localhost ?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A0%90%E5%AD%98%E7%A8%8B%E5%BA%8F-x2F-%E9%A0%90%E5%84%B2%E7%A8%8B%E5%BA%8F-Stored-Procedure"><span class="nav-number">10.</span> <span class="nav-text">預存程序 &#x2F; 預儲程序 Stored Procedure</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E9%9A%8E%E5%BC%8F%E6%9E%B6%E6%A7%8B-SQL-Multilevel-Hierarchy"><span class="nav-number">11.</span> <span class="nav-text">多階式架構 SQL Multilevel Hierarchy</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SELECT-%E5%BE%9E%E6%95%B8%E6%93%9A%E5%BA%AB%E4%B8%AD%E6%8F%90%E5%8F%96%E6%95%B8%E6%93%9A-x2F-%E6%9F%A5%E8%A9%A2%E8%B3%87%E6%96%99"><span class="nav-number">12.</span> <span class="nav-text">SELECT 從數據庫中提取數據 &#x2F; 查詢資料</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%B5%E5%BB%BA%E8%B3%87%E6%96%99%E5%BA%AB%E6%B5%81%E7%A8%8B"><span class="nav-number">13.</span> <span class="nav-text">創建資料庫流程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL-injection-%E7%B6%AD%E5%9F%BA"><span class="nav-number">14.</span> <span class="nav-text">SQL injection | 維基</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B3%87%E6%96%99%E5%BA%AB%E6%AD%A3%E8%A6%8F%E5%8C%96"><span class="nav-number">15.</span> <span class="nav-text">資料庫正規化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A1%8D%E5%A4%96%E7%9F%A5%E8%AD%98%E9%BB%9E"><span class="nav-number">16.</span> <span class="nav-text">額外知識點</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B3%BB%E7%B5%B1%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8"><span class="nav-number">17.</span> <span class="nav-text">系統環境變數</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%91%BD%E4%BB%A4%E6%8F%90%E7%A4%BA%E5%AD%97%E5%85%83%E5%91%BC%E5%8F%AB-MySQL-commit"><span class="nav-number">18.</span> <span class="nav-text">命令提示字元呼叫 MySQL commit</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%83%85%E5%A2%83%E6%BC%94%E7%B7%B4"><span class="nav-number">19.</span> <span class="nav-text">情境演練 :</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL-%E7%9A%84%E9%8E%96-LOCK"><span class="nav-number">20.</span> <span class="nav-text">SQL 的鎖 LOCK</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL-%E7%9A%84-LOCK-%E6%9C%89%E5%88%86%E5%85%A9%E5%80%8B%E7%B6%AD%E5%BA%A6"><span class="nav-number">21.</span> <span class="nav-text">SQL 的 LOCK 有分兩個維度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BB%BA%E7%AB%8B%E8%B3%87%E6%96%99%E5%BA%AB-%E5%AD%97%E5%85%83%E9%9B%86%E4%BA%82%E7%A2%BC%E7%8B%80%E6%B3%81%E9%A1%8C"><span class="nav-number">22.</span> <span class="nav-text">建立資料庫 | 字元集亂碼狀況題</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B5%82%E7%AB%AF%E6%A9%9F%E6%9F%A5%E8%A9%A2%E6%8C%87%E4%BB%A4"><span class="nav-number">23.</span> <span class="nav-text">終端機查詢指令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BB%BA%E7%AB%8B%E8%B3%87%E6%96%99%E5%BA%AB-%E5%AD%97%E5%85%83%E9%9B%86%E4%BA%82%E7%A2%BC%E7%8B%80%E6%B3%81%E9%A1%8C-1"><span class="nav-number">24.</span> <span class="nav-text">建立資料庫 | 字元集亂碼狀況題</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%B5%E5%BB%BA%E8%B3%87%E6%96%99%E5%BA%AB%E6%99%82%EF%BC%8C%E4%BD%BF%E7%94%A8%E8%BC%83%E8%88%8A%E7%9A%84%E6%8C%87%E4%BB%A4%E5%8F%AF%E8%83%BD%E6%9C%83%E5%87%BA%E7%8F%BE%E7%9A%84%E5%95%8F%E9%A1%8C"><span class="nav-number">25.</span> <span class="nav-text">創建資料庫時，使用較舊的指令可能會出現的問題</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%B5%E5%BB%BA%E8%B3%87%E6%96%99%E5%BA%AB%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85"><span class="nav-number">26.</span> <span class="nav-text">創建資料庫注意事項</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%88%8A%E8%B3%87%E6%96%99%E7%B5%90%E6%A7%8B-big5-%E6%96%B9%E4%BE%BF"><span class="nav-number">27.</span> <span class="nav-text">舊資料結構 big5 方便</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B0%E8%B3%87%E6%96%99%E7%B5%90%E6%A7%8B-%E9%81%A9%E7%94%A8-utf8"><span class="nav-number">28.</span> <span class="nav-text">新資料結構 適用 utf8</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BB%BA%E7%AB%8B%E8%B3%87%E6%96%99%E5%BA%AB"><span class="nav-number">29.</span> <span class="nav-text">建立資料庫</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BB%BA%E7%AB%8B%E8%B3%87%E6%96%99%E8%A1%A8"><span class="nav-number">30.</span> <span class="nav-text">建立資料表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B3%87%E6%96%99%E5%9E%8B%E5%88%A5"><span class="nav-number">31.</span> <span class="nav-text">資料型別</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ForeignKey-FK-%E5%A4%96%E9%8D%B5"><span class="nav-number">32.</span> <span class="nav-text">ForeignKey FK 外鍵</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E5%B0%8D%E5%A4%9A-FK-%E9%97%9C%E4%BF%82%E7%90%86%E8%A7%A3"><span class="nav-number">33.</span> <span class="nav-text">多對多 FK 關係理解</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%83%85%E5%A2%83%E9%A1%8C"><span class="nav-number">34.</span> <span class="nav-text">情境題</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%A8%E6%99%82%E6%80%A7%E8%B3%87%E6%96%99%E8%A1%A8"><span class="nav-number">35.</span> <span class="nav-text">臨時性資料表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95"><span class="nav-number">36.</span> <span class="nav-text">索引</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%A6%E9%AB%94%E9%97%9C%E4%BF%82%E5%9C%96-Entity-Relation"><span class="nav-number">37.</span> <span class="nav-text">實體關係圖 Entity-Relation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B3%87%E6%96%99%E5%BA%AB%E7%B5%90%E6%A7%8B%E6%AA%A2%E6%9F%A5-First-Normal-Form"><span class="nav-number">38.</span> <span class="nav-text">資料庫結構檢查 First Normal Form</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Security-for-SQL"><span class="nav-number"></span> <span class="nav-text">Security for SQL</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL-%E5%AE%89%E5%85%A8%E6%80%A7"><span class="nav-number">1.</span> <span class="nav-text">SQL 安全性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%A8%E5%9F%9F%E6%AC%8A%E9%99%90%E6%9F%A5%E8%A9%A2"><span class="nav-number"></span> <span class="nav-text">全域權限查詢</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%90%86%E8%A7%A3-MySQL-%E4%B8%AD%EF%BC%8C%E8%B3%87%E6%96%99%E5%BA%AB%E7%9A%84%E7%B5%90%E6%A7%8B"><span class="nav-number">1.</span> <span class="nav-text">理解 MySQL 中，資料庫的結構</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E%E4%BD%BF%E7%94%A8%E8%80%85-CREATE-USER-%E2%80%A6-BY-%E2%80%A6"><span class="nav-number"></span> <span class="nav-text">新增使用者 CREATE USER … BY …</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%88%E4%BA%88%E6%AC%8A%E9%99%90-GRANT-%E2%80%A6-ON-%E2%80%A6-TO-%E2%80%A6"><span class="nav-number"></span> <span class="nav-text">授予權限 GRANT … ON … TO …</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%94%B6%E5%9B%9E%E6%AC%8A%E9%99%90-REVOKE-UPDATA-ON-%E2%80%A6-FROM"><span class="nav-number"></span> <span class="nav-text">收回權限 REVOKE UPDATA ON …. FROM</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%8A%E6%9B%B4%E5%AF%86%E7%A2%BC-SET-%E2%80%A6-FOR-%E2%80%A6-x3D"><span class="nav-number"></span> <span class="nav-text">變更密碼  SET … FOR … &#x3D;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9B%B4%E6%96%B0-MySQL-%E8%B3%87%E6%96%99%E5%BA%AB%E7%9A%84%E6%9A%AB%E5%AD%98-FLUSH-PRIVILEGES"><span class="nav-number"></span> <span class="nav-text">更新 MySQL 資料庫的暫存 FLUSH PRIVILEGES</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#MySQL-%E4%B8%AD-password-%E4%B8%AD%E6%9C%83%E9%A1%AF%E7%A4%BA%E9%9B%9C%E6%B9%8A%E6%BC%94%E7%AE%97%E6%B3%95-Hashing-Algorithm"><span class="nav-number">1.</span> <span class="nav-text">MySQL 中 password 中會顯示雜湊演算法 Hashing Algorithm</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%99%BB%E5%85%A5MySQL"><span class="nav-number">2.</span> <span class="nav-text">登入MySQL</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%AA%A2%E8%A6%96-View-%E8%A1%A8"><span class="nav-number"></span> <span class="nav-text">檢視 View 表</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%83%E8%80%83-%E5%BE%AE%E8%BB%9F"><span class="nav-number">1.</span> <span class="nav-text">參考 | 微軟</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL-Injection-%E6%8F%92%E5%85%A5"><span class="nav-number">2.</span> <span class="nav-text">SQL Injection 插入</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Nell</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">15</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分類</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">標籤</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/22aliang" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;22aliang" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:lisa5566407@gmail.com" title="E-Mail → mailto:lisa5566407@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Nell</span>
        
<div class="busuanzi-count">
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="訪客總數">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="總瀏覽次數">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/pjax/pjax.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  




  
<script src="/js/local-search.js"></script>









<script data-pjax>
document.querySelectorAll('.pdfobject-container').forEach(element => {
  let url = element.dataset.target;
  let pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  let pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  let fullURL = `/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});
</script>


<script data-pjax>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


    <div id="pjax">
  

  

    </div>
</body>
</html>
